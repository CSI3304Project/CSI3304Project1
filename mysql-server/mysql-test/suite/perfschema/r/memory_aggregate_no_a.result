show status like "performance_schema_memory_classes_lost";
Variable_name	Value
Performance_schema_memory_classes_lost	0
"================== Step 1 =================="
call dump_thread();
username	user1
status	not found
username	user2
status	not found
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
root	1	1
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	1	1
"================== con1 connected =================="
"================== Step 2 =================="
call dump_thread();
username	user1
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
username	user1
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
username	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
username	user2
status	not found
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
USER	user1
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user1
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
root	1	1
user1	1	1
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	2	2
set GLOBAL query_cache_size=1000*1024;
select get_lock("marker_1", 10);
get_lock("marker_1", 10)
1
select release_lock("marker_1");
release_lock("marker_1")
1
set @v1 = repeat("a", 1000);
set @v2 = repeat("b", 2000);
set @v3 = repeat("c", 4000);
"================== con1 marker =================="
"================== Step 3 =================="
call dump_thread();
username	user1
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	1007616
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	1007616
HIGH_NUMBER_OF_BYTES_USED	1007616
username	user1
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
username	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user2
status	not found
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
USER	user1
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	1007616
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	1007616
HIGH_NUMBER_OF_BYTES_USED	1007616
USER	user1
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
USER	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	1007616
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	1007616
HIGH_NUMBER_OF_BYTES_USED	1007616
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	1007616
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	1007616
HIGH_NUMBER_OF_BYTES_USED	1007616
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
root	1	1
user1	1	1
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	2	2
"================== con2 connected =================="
"================== Step 4 =================="
call dump_thread();
username	user1
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	1007616
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	1007616
HIGH_NUMBER_OF_BYTES_USED	1007616
username	user1
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
username	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user2
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
username	user2
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
username	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
USER	user1
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	1007616
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	1007616
HIGH_NUMBER_OF_BYTES_USED	1007616
USER	user1
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
USER	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
USER	user2
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user2
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	1007616
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	1007616
HIGH_NUMBER_OF_BYTES_USED	1007616
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	1007616
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	1007616
HIGH_NUMBER_OF_BYTES_USED	1007616
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
root	1	1
user1	1	1
user2	1	1
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	3	3
set GLOBAL query_cache_size=2000*1024;
select get_lock("marker_2", 10);
get_lock("marker_2", 10)
1
select release_lock("marker_2");
release_lock("marker_2")
1
set @v1 = repeat("a", 1000);
set @v2 = repeat("b", 2000);
set @v3 = repeat("c", 4000);
"================== con2 marker =================="
"================== Step 5 =================="
call dump_thread();
username	user1
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	1007616
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	1007616
HIGH_NUMBER_OF_BYTES_USED	1007616
username	user1
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
username	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user2
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	2031616
SUM_NUMBER_OF_BYTES_FREE	1007616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	1024000
HIGH_NUMBER_OF_BYTES_USED	1024000
username	user2
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
username	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
USER	user1
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	1007616
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	1007616
HIGH_NUMBER_OF_BYTES_USED	1007616
USER	user1
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
USER	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
USER	user2
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	2031616
SUM_NUMBER_OF_BYTES_FREE	1007616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	1024000
HIGH_NUMBER_OF_BYTES_USED	1024000
USER	user2
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
USER	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	2
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	3039232
SUM_NUMBER_OF_BYTES_FREE	1007616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	2031616
HIGH_NUMBER_OF_BYTES_USED	2031616
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	2
COUNT_FREE	2
SUM_NUMBER_OF_BYTES_ALLOC	32
SUM_NUMBER_OF_BYTES_FREE	32
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	2
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	32
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	6
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	14006
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	6
HIGH_COUNT_USED	6
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	14006
HIGH_NUMBER_OF_BYTES_USED	14006
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	2
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	3039232
SUM_NUMBER_OF_BYTES_FREE	1007616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	2031616
HIGH_NUMBER_OF_BYTES_USED	2031616
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	2
COUNT_FREE	2
SUM_NUMBER_OF_BYTES_ALLOC	32
SUM_NUMBER_OF_BYTES_FREE	32
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	2
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	32
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	6
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	14006
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	6
HIGH_COUNT_USED	6
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	14006
HIGH_NUMBER_OF_BYTES_USED	14006
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
root	1	1
user1	1	1
user2	1	1
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	3	3
truncate table performance_schema.memory_summary_by_thread_by_event_name;
"================== MEMORY_BY_THREAD truncated =================="
"================== Step 5b =================="
call dump_thread();
username	user1
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	1007616
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	1007616
CURRENT_NUMBER_OF_BYTES_USED	1007616
HIGH_NUMBER_OF_BYTES_USED	1007616
username	user1
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
username	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	3
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	7003
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user2
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	1024000
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	1024000
CURRENT_NUMBER_OF_BYTES_USED	1024000
HIGH_NUMBER_OF_BYTES_USED	1024000
username	user2
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
username	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	3
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	7003
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
USER	user1
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	1007616
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	1007616
HIGH_NUMBER_OF_BYTES_USED	1007616
USER	user1
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
USER	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
USER	user2
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	2031616
SUM_NUMBER_OF_BYTES_FREE	1007616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	1024000
HIGH_NUMBER_OF_BYTES_USED	1024000
USER	user2
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
USER	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	2
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	3039232
SUM_NUMBER_OF_BYTES_FREE	1007616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	2031616
HIGH_NUMBER_OF_BYTES_USED	2031616
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	2
COUNT_FREE	2
SUM_NUMBER_OF_BYTES_ALLOC	32
SUM_NUMBER_OF_BYTES_FREE	32
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	2
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	32
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	6
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	14006
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	6
HIGH_COUNT_USED	6
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	14006
HIGH_NUMBER_OF_BYTES_USED	14006
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	2
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	3039232
SUM_NUMBER_OF_BYTES_FREE	1007616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	2031616
HIGH_NUMBER_OF_BYTES_USED	2031616
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	2
COUNT_FREE	2
SUM_NUMBER_OF_BYTES_ALLOC	32
SUM_NUMBER_OF_BYTES_FREE	32
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	2
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	32
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	6
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	14006
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	6
HIGH_COUNT_USED	6
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	14006
HIGH_NUMBER_OF_BYTES_USED	14006
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
root	1	1
user1	1	1
user2	1	1
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	3	3
"================== con3 connected =================="
"================== Step 6 =================="
call dump_thread();
username	user1
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	1007616
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	1007616
CURRENT_NUMBER_OF_BYTES_USED	1007616
HIGH_NUMBER_OF_BYTES_USED	1007616
username	user1
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
username	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	3
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	7003
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user2
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	1024000
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	1024000
CURRENT_NUMBER_OF_BYTES_USED	1024000
HIGH_NUMBER_OF_BYTES_USED	1024000
username	user2
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
username	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	3
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	7003
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user3
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
username	user3
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
username	user3
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
USER	user1
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	1007616
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	1007616
HIGH_NUMBER_OF_BYTES_USED	1007616
USER	user1
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
USER	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
USER	user2
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	2031616
SUM_NUMBER_OF_BYTES_FREE	1007616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	1024000
HIGH_NUMBER_OF_BYTES_USED	1024000
USER	user2
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
USER	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
USER	user3
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user3
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user3
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	2
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	3039232
SUM_NUMBER_OF_BYTES_FREE	1007616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	2031616
HIGH_NUMBER_OF_BYTES_USED	2031616
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	2
COUNT_FREE	2
SUM_NUMBER_OF_BYTES_ALLOC	32
SUM_NUMBER_OF_BYTES_FREE	32
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	2
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	32
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	6
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	14006
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	6
HIGH_COUNT_USED	6
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	14006
HIGH_NUMBER_OF_BYTES_USED	14006
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	2
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	3039232
SUM_NUMBER_OF_BYTES_FREE	1007616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	2031616
HIGH_NUMBER_OF_BYTES_USED	2031616
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	2
COUNT_FREE	2
SUM_NUMBER_OF_BYTES_ALLOC	32
SUM_NUMBER_OF_BYTES_FREE	32
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	2
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	32
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	6
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	14006
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	6
HIGH_COUNT_USED	6
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	14006
HIGH_NUMBER_OF_BYTES_USED	14006
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
root	1	1
user1	1	1
user2	1	1
user3	1	1
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	4	4
set GLOBAL query_cache_size=500*1024;
select get_lock("marker_3", 10);
get_lock("marker_3", 10)
1
select release_lock("marker_3");
release_lock("marker_3")
1
set @v1 = repeat("a", 1000);
set @v2 = repeat("b", 2000);
set @v3 = repeat("c", 4000);
"================== con3 marker =================="
"================== Step 7 =================="
call dump_thread();
username	user1
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	1007616
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	1007616
CURRENT_NUMBER_OF_BYTES_USED	1007616
HIGH_NUMBER_OF_BYTES_USED	1007616
username	user1
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
username	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	3
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	7003
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user2
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	1024000
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	1024000
CURRENT_NUMBER_OF_BYTES_USED	1024000
HIGH_NUMBER_OF_BYTES_USED	1024000
username	user2
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
username	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	3
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	7003
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user3
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	495616
SUM_NUMBER_OF_BYTES_FREE	2031616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	-2031616
CURRENT_NUMBER_OF_BYTES_USED	-1536000
HIGH_NUMBER_OF_BYTES_USED	0
username	user3
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
username	user3
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
USER	user1
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	1007616
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	1007616
HIGH_NUMBER_OF_BYTES_USED	1007616
USER	user1
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
USER	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
USER	user2
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	2031616
SUM_NUMBER_OF_BYTES_FREE	1007616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	1024000
HIGH_NUMBER_OF_BYTES_USED	1024000
USER	user2
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
USER	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
USER	user3
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	495616
SUM_NUMBER_OF_BYTES_FREE	2031616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	-2031616
CURRENT_NUMBER_OF_BYTES_USED	-1536000
HIGH_NUMBER_OF_BYTES_USED	0
USER	user3
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
USER	user3
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	3
COUNT_FREE	2
SUM_NUMBER_OF_BYTES_ALLOC	3534848
SUM_NUMBER_OF_BYTES_FREE	3039232
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	495616
HIGH_NUMBER_OF_BYTES_USED	2031616
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	3
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	48
SUM_NUMBER_OF_BYTES_FREE	48
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	2
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	32
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	9
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	21009
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	9
HIGH_COUNT_USED	9
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	21009
HIGH_NUMBER_OF_BYTES_USED	21009
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	3
COUNT_FREE	2
SUM_NUMBER_OF_BYTES_ALLOC	3534848
SUM_NUMBER_OF_BYTES_FREE	3039232
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	495616
HIGH_NUMBER_OF_BYTES_USED	2031616
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	3
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	48
SUM_NUMBER_OF_BYTES_FREE	48
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	2
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	32
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	9
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	21009
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	9
HIGH_COUNT_USED	9
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	21009
HIGH_NUMBER_OF_BYTES_USED	21009
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
root	1	1
user1	1	1
user2	1	1
user3	1	1
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	4	4
"================== con4/con5 (both user4) connected =================="
"================== Step 8 =================="
call dump_thread();
username	user1
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	1007616
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	1007616
CURRENT_NUMBER_OF_BYTES_USED	1007616
HIGH_NUMBER_OF_BYTES_USED	1007616
username	user1
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
username	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	3
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	7003
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user2
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	1024000
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	1024000
CURRENT_NUMBER_OF_BYTES_USED	1024000
HIGH_NUMBER_OF_BYTES_USED	1024000
username	user2
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
username	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	3
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	7003
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user3
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	495616
SUM_NUMBER_OF_BYTES_FREE	2031616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	-2031616
CURRENT_NUMBER_OF_BYTES_USED	-1536000
HIGH_NUMBER_OF_BYTES_USED	0
username	user3
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
username	user3
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user4
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
username	user4
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
username	user4
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
execute dump_memory_account;
execute dump_memory_user;
USER	user1
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	1007616
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	1007616
HIGH_NUMBER_OF_BYTES_USED	1007616
USER	user1
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
USER	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
USER	user2
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	2031616
SUM_NUMBER_OF_BYTES_FREE	1007616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	1024000
HIGH_NUMBER_OF_BYTES_USED	1024000
USER	user2
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
USER	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
USER	user3
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	495616
SUM_NUMBER_OF_BYTES_FREE	2031616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	-2031616
CURRENT_NUMBER_OF_BYTES_USED	-1536000
HIGH_NUMBER_OF_BYTES_USED	0
USER	user3
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
USER	user3
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
USER	user4
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user4
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user4
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	3
COUNT_FREE	2
SUM_NUMBER_OF_BYTES_ALLOC	3534848
SUM_NUMBER_OF_BYTES_FREE	3039232
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	495616
HIGH_NUMBER_OF_BYTES_USED	2031616
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	3
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	48
SUM_NUMBER_OF_BYTES_FREE	48
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	2
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	32
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	9
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	21009
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	9
HIGH_COUNT_USED	9
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	21009
HIGH_NUMBER_OF_BYTES_USED	21009
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	3
COUNT_FREE	2
SUM_NUMBER_OF_BYTES_ALLOC	3534848
SUM_NUMBER_OF_BYTES_FREE	3039232
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	495616
HIGH_NUMBER_OF_BYTES_USED	2031616
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	3
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	48
SUM_NUMBER_OF_BYTES_FREE	48
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	2
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	32
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	9
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	21009
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	9
HIGH_COUNT_USED	9
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	21009
HIGH_NUMBER_OF_BYTES_USED	21009
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
root	1	1
user1	1	1
user2	1	1
user3	1	1
user4	2	2
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	6	6
set GLOBAL query_cache_size=4000*1024;
select get_lock("marker_4", 10);
get_lock("marker_4", 10)
1
select release_lock("marker_4");
release_lock("marker_4")
1
set @v1 = repeat("a", 1000);
set @v2 = repeat("b", 2000);
set @v3 = repeat("c", 4000);
select get_lock("marker_5", 10);
get_lock("marker_5", 10)
1
select release_lock("marker_5");
release_lock("marker_5")
1
set @v1 = repeat("a", 1000);
set @v2 = repeat("b", 2000);
set @v3 = repeat("c", 4000);
"================== con4/con5 marker =================="
"================== Step 9 =================="
call dump_thread();
username	user1
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	1007616
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	1007616
CURRENT_NUMBER_OF_BYTES_USED	1007616
HIGH_NUMBER_OF_BYTES_USED	1007616
username	user1
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
username	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	3
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	7003
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user2
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	1024000
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	1024000
CURRENT_NUMBER_OF_BYTES_USED	1024000
HIGH_NUMBER_OF_BYTES_USED	1024000
username	user2
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
username	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	3
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	7003
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user3
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	495616
SUM_NUMBER_OF_BYTES_FREE	2031616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	-2031616
CURRENT_NUMBER_OF_BYTES_USED	-1536000
HIGH_NUMBER_OF_BYTES_USED	0
username	user3
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
username	user3
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user4
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	4079616
SUM_NUMBER_OF_BYTES_FREE	495616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	-495616
CURRENT_NUMBER_OF_BYTES_USED	3584000
HIGH_NUMBER_OF_BYTES_USED	3584000
username	user4
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
username	user4
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
execute dump_memory_account;
execute dump_memory_user;
USER	user1
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	1007616
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	1007616
HIGH_NUMBER_OF_BYTES_USED	1007616
USER	user1
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
USER	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
USER	user2
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	2031616
SUM_NUMBER_OF_BYTES_FREE	1007616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	1024000
HIGH_NUMBER_OF_BYTES_USED	1024000
USER	user2
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
USER	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
USER	user3
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	495616
SUM_NUMBER_OF_BYTES_FREE	2031616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	-2031616
CURRENT_NUMBER_OF_BYTES_USED	-1536000
HIGH_NUMBER_OF_BYTES_USED	0
USER	user3
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
USER	user3
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
USER	user4
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	4079616
SUM_NUMBER_OF_BYTES_FREE	495616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	-495616
CURRENT_NUMBER_OF_BYTES_USED	3584000
HIGH_NUMBER_OF_BYTES_USED	3584000
USER	user4
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	2
COUNT_FREE	2
SUM_NUMBER_OF_BYTES_ALLOC	32
SUM_NUMBER_OF_BYTES_FREE	32
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	2
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	32
USER	user4
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	6
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	14006
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	6
HIGH_COUNT_USED	6
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	14006
HIGH_NUMBER_OF_BYTES_USED	14006
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	4
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	7614464
SUM_NUMBER_OF_BYTES_FREE	3534848
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	4079616
HIGH_NUMBER_OF_BYTES_USED	5615616
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	5
COUNT_FREE	5
SUM_NUMBER_OF_BYTES_ALLOC	80
SUM_NUMBER_OF_BYTES_FREE	80
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	48
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	15
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	35015
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	15
HIGH_COUNT_USED	15
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	35015
HIGH_NUMBER_OF_BYTES_USED	35015
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	4
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	7614464
SUM_NUMBER_OF_BYTES_FREE	3534848
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	4079616
HIGH_NUMBER_OF_BYTES_USED	5615616
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	5
COUNT_FREE	5
SUM_NUMBER_OF_BYTES_ALLOC	80
SUM_NUMBER_OF_BYTES_FREE	80
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	48
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	15
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	35015
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	15
HIGH_COUNT_USED	15
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	35015
HIGH_NUMBER_OF_BYTES_USED	35015
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
root	1	1
user1	1	1
user2	1	1
user3	1	1
user4	2	2
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	6	6
"================== con1/con5 disconnected =================="
"================== Step 10 =================="
call dump_thread();
username	user1
status	not found
username	user2
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	1024000
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	1024000
CURRENT_NUMBER_OF_BYTES_USED	1024000
HIGH_NUMBER_OF_BYTES_USED	1024000
username	user2
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
username	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	3
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	7003
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user3
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	495616
SUM_NUMBER_OF_BYTES_FREE	2031616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	-2031616
CURRENT_NUMBER_OF_BYTES_USED	-1536000
HIGH_NUMBER_OF_BYTES_USED	0
username	user3
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
username	user3
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user4
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	4079616
SUM_NUMBER_OF_BYTES_FREE	495616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	-495616
CURRENT_NUMBER_OF_BYTES_USED	3584000
HIGH_NUMBER_OF_BYTES_USED	3584000
username	user4
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
username	user4
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
execute dump_memory_account;
execute dump_memory_user;
USER	user1
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	1007616
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	1007616
HIGH_NUMBER_OF_BYTES_USED	1007616
USER	user1
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
USER	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	7003
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	7003
USER	user2
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	2031616
SUM_NUMBER_OF_BYTES_FREE	1007616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	1024000
HIGH_NUMBER_OF_BYTES_USED	1024000
USER	user2
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
USER	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
USER	user3
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	495616
SUM_NUMBER_OF_BYTES_FREE	2031616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	-2031616
CURRENT_NUMBER_OF_BYTES_USED	-1536000
HIGH_NUMBER_OF_BYTES_USED	0
USER	user3
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
USER	user3
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
USER	user4
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	4079616
SUM_NUMBER_OF_BYTES_FREE	495616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	-495616
CURRENT_NUMBER_OF_BYTES_USED	3584000
HIGH_NUMBER_OF_BYTES_USED	3584000
USER	user4
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	2
COUNT_FREE	2
SUM_NUMBER_OF_BYTES_ALLOC	32
SUM_NUMBER_OF_BYTES_FREE	32
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	2
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	32
USER	user4
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	6
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	14006
SUM_NUMBER_OF_BYTES_FREE	7003
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	6
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	14006
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	4
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	7614464
SUM_NUMBER_OF_BYTES_FREE	3534848
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	4079616
HIGH_NUMBER_OF_BYTES_USED	5615616
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	5
COUNT_FREE	5
SUM_NUMBER_OF_BYTES_ALLOC	80
SUM_NUMBER_OF_BYTES_FREE	80
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	48
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	15
COUNT_FREE	6
SUM_NUMBER_OF_BYTES_ALLOC	35015
SUM_NUMBER_OF_BYTES_FREE	14006
LOW_COUNT_USED	0
CURRENT_COUNT_USED	9
HIGH_COUNT_USED	15
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	21009
HIGH_NUMBER_OF_BYTES_USED	35015
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	4
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	7614464
SUM_NUMBER_OF_BYTES_FREE	3534848
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	4079616
HIGH_NUMBER_OF_BYTES_USED	5615616
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	5
COUNT_FREE	5
SUM_NUMBER_OF_BYTES_ALLOC	80
SUM_NUMBER_OF_BYTES_FREE	80
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	48
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	15
COUNT_FREE	6
SUM_NUMBER_OF_BYTES_ALLOC	35015
SUM_NUMBER_OF_BYTES_FREE	14006
LOW_COUNT_USED	0
CURRENT_COUNT_USED	9
HIGH_COUNT_USED	15
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	21009
HIGH_NUMBER_OF_BYTES_USED	35015
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
root	1	1
user1	0	1
user2	1	1
user3	1	1
user4	1	2
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	4	6
"================== con2 disconnected =================="
"================== Step 11 =================="
call dump_thread();
username	user1
status	not found
username	user2
status	not found
username	user3
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	495616
SUM_NUMBER_OF_BYTES_FREE	2031616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	-2031616
CURRENT_NUMBER_OF_BYTES_USED	-1536000
HIGH_NUMBER_OF_BYTES_USED	0
username	user3
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
username	user3
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
username	user4
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	4079616
SUM_NUMBER_OF_BYTES_FREE	495616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	-495616
CURRENT_NUMBER_OF_BYTES_USED	3584000
HIGH_NUMBER_OF_BYTES_USED	3584000
username	user4
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
username	user4
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
execute dump_memory_account;
execute dump_memory_user;
USER	user1
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	1007616
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	1007616
HIGH_NUMBER_OF_BYTES_USED	1007616
USER	user1
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
USER	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	7003
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	7003
USER	user2
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	2031616
SUM_NUMBER_OF_BYTES_FREE	1007616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	1024000
HIGH_NUMBER_OF_BYTES_USED	1024000
USER	user2
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
USER	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	7003
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	7003
USER	user3
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	495616
SUM_NUMBER_OF_BYTES_FREE	2031616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	-2031616
CURRENT_NUMBER_OF_BYTES_USED	-1536000
HIGH_NUMBER_OF_BYTES_USED	0
USER	user3
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
USER	user3
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
USER	user4
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	4079616
SUM_NUMBER_OF_BYTES_FREE	495616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	-495616
CURRENT_NUMBER_OF_BYTES_USED	3584000
HIGH_NUMBER_OF_BYTES_USED	3584000
USER	user4
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	2
COUNT_FREE	2
SUM_NUMBER_OF_BYTES_ALLOC	32
SUM_NUMBER_OF_BYTES_FREE	32
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	2
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	32
USER	user4
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	6
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	14006
SUM_NUMBER_OF_BYTES_FREE	7003
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	6
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	14006
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	4
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	7614464
SUM_NUMBER_OF_BYTES_FREE	3534848
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	4079616
HIGH_NUMBER_OF_BYTES_USED	5615616
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	5
COUNT_FREE	5
SUM_NUMBER_OF_BYTES_ALLOC	80
SUM_NUMBER_OF_BYTES_FREE	80
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	48
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	15
COUNT_FREE	9
SUM_NUMBER_OF_BYTES_ALLOC	35015
SUM_NUMBER_OF_BYTES_FREE	21009
LOW_COUNT_USED	0
CURRENT_COUNT_USED	6
HIGH_COUNT_USED	15
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	14006
HIGH_NUMBER_OF_BYTES_USED	35015
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	4
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	7614464
SUM_NUMBER_OF_BYTES_FREE	3534848
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	4079616
HIGH_NUMBER_OF_BYTES_USED	5615616
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	5
COUNT_FREE	5
SUM_NUMBER_OF_BYTES_ALLOC	80
SUM_NUMBER_OF_BYTES_FREE	80
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	48
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	15
COUNT_FREE	9
SUM_NUMBER_OF_BYTES_ALLOC	35015
SUM_NUMBER_OF_BYTES_FREE	21009
LOW_COUNT_USED	0
CURRENT_COUNT_USED	6
HIGH_COUNT_USED	15
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	14006
HIGH_NUMBER_OF_BYTES_USED	35015
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
root	1	1
user1	0	1
user2	0	1
user3	1	1
user4	1	2
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	3	6
"================== con3 disconnected =================="
"================== Step 12 =================="
call dump_thread();
username	user1
status	not found
username	user2
status	not found
username	user3
status	not found
username	user4
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	4079616
SUM_NUMBER_OF_BYTES_FREE	495616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	-495616
CURRENT_NUMBER_OF_BYTES_USED	3584000
HIGH_NUMBER_OF_BYTES_USED	3584000
username	user4
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
username	user4
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	7003
execute dump_memory_account;
execute dump_memory_user;
USER	user1
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	1007616
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	1007616
HIGH_NUMBER_OF_BYTES_USED	1007616
USER	user1
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
USER	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	7003
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	7003
USER	user2
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	2031616
SUM_NUMBER_OF_BYTES_FREE	1007616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	1024000
HIGH_NUMBER_OF_BYTES_USED	1024000
USER	user2
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
USER	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	7003
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	7003
USER	user3
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	495616
SUM_NUMBER_OF_BYTES_FREE	2031616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	-2031616
CURRENT_NUMBER_OF_BYTES_USED	-1536000
HIGH_NUMBER_OF_BYTES_USED	0
USER	user3
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
USER	user3
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	7003
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	7003
USER	user4
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	4079616
SUM_NUMBER_OF_BYTES_FREE	495616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	-495616
CURRENT_NUMBER_OF_BYTES_USED	3584000
HIGH_NUMBER_OF_BYTES_USED	3584000
USER	user4
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	2
COUNT_FREE	2
SUM_NUMBER_OF_BYTES_ALLOC	32
SUM_NUMBER_OF_BYTES_FREE	32
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	2
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	32
USER	user4
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	6
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	14006
SUM_NUMBER_OF_BYTES_FREE	7003
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	6
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	14006
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	4
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	7614464
SUM_NUMBER_OF_BYTES_FREE	3534848
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	4079616
HIGH_NUMBER_OF_BYTES_USED	5615616
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	5
COUNT_FREE	5
SUM_NUMBER_OF_BYTES_ALLOC	80
SUM_NUMBER_OF_BYTES_FREE	80
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	48
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	15
COUNT_FREE	12
SUM_NUMBER_OF_BYTES_ALLOC	35015
SUM_NUMBER_OF_BYTES_FREE	28012
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	15
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	35015
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	4
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	7614464
SUM_NUMBER_OF_BYTES_FREE	3534848
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	4079616
HIGH_NUMBER_OF_BYTES_USED	5615616
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	5
COUNT_FREE	5
SUM_NUMBER_OF_BYTES_ALLOC	80
SUM_NUMBER_OF_BYTES_FREE	80
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	48
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	15
COUNT_FREE	12
SUM_NUMBER_OF_BYTES_ALLOC	35015
SUM_NUMBER_OF_BYTES_FREE	28012
LOW_COUNT_USED	0
CURRENT_COUNT_USED	3
HIGH_COUNT_USED	15
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	7003
HIGH_NUMBER_OF_BYTES_USED	35015
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
root	1	1
user1	0	1
user2	0	1
user3	0	1
user4	1	2
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	2	6
"================== con4 disconnected =================="
"================== Step 13 =================="
call dump_thread();
username	user1
status	not found
username	user2
status	not found
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
USER	user1
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	1007616
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	1007616
HIGH_NUMBER_OF_BYTES_USED	1007616
USER	user1
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
USER	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	7003
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	7003
USER	user2
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	2031616
SUM_NUMBER_OF_BYTES_FREE	1007616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	1024000
HIGH_NUMBER_OF_BYTES_USED	1024000
USER	user2
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
USER	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	7003
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	7003
USER	user3
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	495616
SUM_NUMBER_OF_BYTES_FREE	2031616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	-2031616
CURRENT_NUMBER_OF_BYTES_USED	-1536000
HIGH_NUMBER_OF_BYTES_USED	0
USER	user3
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
USER	user3
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	7003
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	7003
USER	user4
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	4079616
SUM_NUMBER_OF_BYTES_FREE	495616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	-495616
CURRENT_NUMBER_OF_BYTES_USED	3584000
HIGH_NUMBER_OF_BYTES_USED	3584000
USER	user4
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	2
COUNT_FREE	2
SUM_NUMBER_OF_BYTES_ALLOC	32
SUM_NUMBER_OF_BYTES_FREE	32
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	2
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	32
USER	user4
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	6
COUNT_FREE	6
SUM_NUMBER_OF_BYTES_ALLOC	14006
SUM_NUMBER_OF_BYTES_FREE	14006
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	6
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	14006
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	4
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	7614464
SUM_NUMBER_OF_BYTES_FREE	3534848
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	4079616
HIGH_NUMBER_OF_BYTES_USED	5615616
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	5
COUNT_FREE	5
SUM_NUMBER_OF_BYTES_ALLOC	80
SUM_NUMBER_OF_BYTES_FREE	80
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	48
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	15
COUNT_FREE	15
SUM_NUMBER_OF_BYTES_ALLOC	35015
SUM_NUMBER_OF_BYTES_FREE	35015
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	15
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	35015
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	4
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	7614464
SUM_NUMBER_OF_BYTES_FREE	3534848
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	4079616
HIGH_NUMBER_OF_BYTES_USED	5615616
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	5
COUNT_FREE	5
SUM_NUMBER_OF_BYTES_ALLOC	80
SUM_NUMBER_OF_BYTES_FREE	80
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	48
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	15
COUNT_FREE	15
SUM_NUMBER_OF_BYTES_ALLOC	35015
SUM_NUMBER_OF_BYTES_FREE	35015
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	15
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	35015
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
root	1	1
user1	0	1
user2	0	1
user3	0	1
user4	0	2
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	1	6
truncate performance_schema.memory_summary_by_thread_by_event_name;
"================== MEMORY_BY_THREAD truncated =================="
"================== Step 14 =================="
call dump_thread();
username	user1
status	not found
username	user2
status	not found
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
USER	user1
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	1007616
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	1007616
HIGH_NUMBER_OF_BYTES_USED	1007616
USER	user1
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
USER	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	7003
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	7003
USER	user2
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	2031616
SUM_NUMBER_OF_BYTES_FREE	1007616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	1024000
HIGH_NUMBER_OF_BYTES_USED	1024000
USER	user2
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
USER	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	7003
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	7003
USER	user3
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	495616
SUM_NUMBER_OF_BYTES_FREE	2031616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	-2031616
CURRENT_NUMBER_OF_BYTES_USED	-1536000
HIGH_NUMBER_OF_BYTES_USED	0
USER	user3
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
USER	user3
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	7003
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	7003
USER	user4
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	4079616
SUM_NUMBER_OF_BYTES_FREE	495616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	-495616
CURRENT_NUMBER_OF_BYTES_USED	3584000
HIGH_NUMBER_OF_BYTES_USED	3584000
USER	user4
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	2
COUNT_FREE	2
SUM_NUMBER_OF_BYTES_ALLOC	32
SUM_NUMBER_OF_BYTES_FREE	32
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	2
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	32
USER	user4
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	6
COUNT_FREE	6
SUM_NUMBER_OF_BYTES_ALLOC	14006
SUM_NUMBER_OF_BYTES_FREE	14006
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	6
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	14006
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	4
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	7614464
SUM_NUMBER_OF_BYTES_FREE	3534848
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	4079616
HIGH_NUMBER_OF_BYTES_USED	5615616
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	5
COUNT_FREE	5
SUM_NUMBER_OF_BYTES_ALLOC	80
SUM_NUMBER_OF_BYTES_FREE	80
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	48
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	15
COUNT_FREE	15
SUM_NUMBER_OF_BYTES_ALLOC	35015
SUM_NUMBER_OF_BYTES_FREE	35015
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	15
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	35015
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	4
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	7614464
SUM_NUMBER_OF_BYTES_FREE	3534848
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	4079616
HIGH_NUMBER_OF_BYTES_USED	5615616
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	5
COUNT_FREE	5
SUM_NUMBER_OF_BYTES_ALLOC	80
SUM_NUMBER_OF_BYTES_FREE	80
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	48
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	15
COUNT_FREE	15
SUM_NUMBER_OF_BYTES_ALLOC	35015
SUM_NUMBER_OF_BYTES_FREE	35015
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	15
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	35015
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
root	1	1
user1	0	1
user2	0	1
user3	0	1
user4	0	2
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	1	6
truncate performance_schema.memory_summary_by_account_by_event_name;
"================== MEMORY_BY_ACCOUNT truncated =================="
"================== Step 15 =================="
call dump_thread();
username	user1
status	not found
username	user2
status	not found
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
USER	user1
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	1007616
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	1007616
HIGH_NUMBER_OF_BYTES_USED	1007616
USER	user1
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
USER	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	7003
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	7003
USER	user2
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	2031616
SUM_NUMBER_OF_BYTES_FREE	1007616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	1024000
HIGH_NUMBER_OF_BYTES_USED	1024000
USER	user2
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
USER	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	7003
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	7003
USER	user3
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	495616
SUM_NUMBER_OF_BYTES_FREE	2031616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	-2031616
CURRENT_NUMBER_OF_BYTES_USED	-1536000
HIGH_NUMBER_OF_BYTES_USED	0
USER	user3
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	16
SUM_NUMBER_OF_BYTES_FREE	16
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	16
USER	user3
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	3
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	7003
SUM_NUMBER_OF_BYTES_FREE	7003
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	7003
USER	user4
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	1
SUM_NUMBER_OF_BYTES_ALLOC	4079616
SUM_NUMBER_OF_BYTES_FREE	495616
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	-495616
CURRENT_NUMBER_OF_BYTES_USED	3584000
HIGH_NUMBER_OF_BYTES_USED	3584000
USER	user4
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	2
COUNT_FREE	2
SUM_NUMBER_OF_BYTES_ALLOC	32
SUM_NUMBER_OF_BYTES_FREE	32
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	2
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	32
USER	user4
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	6
COUNT_FREE	6
SUM_NUMBER_OF_BYTES_ALLOC	14006
SUM_NUMBER_OF_BYTES_FREE	14006
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	6
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	14006
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	4
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	7614464
SUM_NUMBER_OF_BYTES_FREE	3534848
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	4079616
HIGH_NUMBER_OF_BYTES_USED	5615616
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	5
COUNT_FREE	5
SUM_NUMBER_OF_BYTES_ALLOC	80
SUM_NUMBER_OF_BYTES_FREE	80
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	48
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	15
COUNT_FREE	15
SUM_NUMBER_OF_BYTES_ALLOC	35015
SUM_NUMBER_OF_BYTES_FREE	35015
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	15
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	35015
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	4
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	7614464
SUM_NUMBER_OF_BYTES_FREE	3534848
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	4079616
HIGH_NUMBER_OF_BYTES_USED	5615616
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	5
COUNT_FREE	5
SUM_NUMBER_OF_BYTES_ALLOC	80
SUM_NUMBER_OF_BYTES_FREE	80
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	48
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	15
COUNT_FREE	15
SUM_NUMBER_OF_BYTES_ALLOC	35015
SUM_NUMBER_OF_BYTES_FREE	35015
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	15
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	35015
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
root	1	1
user1	0	1
user2	0	1
user3	0	1
user4	0	2
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	1	6
truncate performance_schema.memory_summary_by_user_by_event_name;
"================== MEMORY_BY_USER truncated =================="
"================== Step 16 =================="
call dump_thread();
username	user1
status	not found
username	user2
status	not found
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
USER	user1
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user1
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user2
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user2
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user3
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user3
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user3
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user4
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user4
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user4
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	4
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	7614464
SUM_NUMBER_OF_BYTES_FREE	3534848
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	4079616
HIGH_NUMBER_OF_BYTES_USED	5615616
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	5
COUNT_FREE	5
SUM_NUMBER_OF_BYTES_ALLOC	80
SUM_NUMBER_OF_BYTES_FREE	80
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	48
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	15
COUNT_FREE	15
SUM_NUMBER_OF_BYTES_ALLOC	35015
SUM_NUMBER_OF_BYTES_FREE	35015
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	15
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	35015
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	4
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	7614464
SUM_NUMBER_OF_BYTES_FREE	3534848
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	4079616
HIGH_NUMBER_OF_BYTES_USED	5615616
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	5
COUNT_FREE	5
SUM_NUMBER_OF_BYTES_ALLOC	80
SUM_NUMBER_OF_BYTES_FREE	80
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	48
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	15
COUNT_FREE	15
SUM_NUMBER_OF_BYTES_ALLOC	35015
SUM_NUMBER_OF_BYTES_FREE	35015
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	15
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	35015
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
root	1	1
user1	0	1
user2	0	1
user3	0	1
user4	0	2
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	1	6
truncate performance_schema.memory_summary_by_host_by_event_name;
"================== MEMORY_BY_HOST truncated =================="
"================== Step 17 =================="
call dump_thread();
username	user1
status	not found
username	user2
status	not found
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
USER	user1
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user1
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user2
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user2
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user3
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user3
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user3
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user4
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user4
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user4
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	4079616
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	4079616
CURRENT_NUMBER_OF_BYTES_USED	4079616
HIGH_NUMBER_OF_BYTES_USED	4079616
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	4
COUNT_FREE	3
SUM_NUMBER_OF_BYTES_ALLOC	7614464
SUM_NUMBER_OF_BYTES_FREE	3534848
LOW_COUNT_USED	-1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	-1007616
CURRENT_NUMBER_OF_BYTES_USED	4079616
HIGH_NUMBER_OF_BYTES_USED	5615616
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	5
COUNT_FREE	5
SUM_NUMBER_OF_BYTES_ALLOC	80
SUM_NUMBER_OF_BYTES_FREE	80
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	3
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	48
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	15
COUNT_FREE	15
SUM_NUMBER_OF_BYTES_ALLOC	35015
SUM_NUMBER_OF_BYTES_FREE	35015
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	15
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	35015
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
root	1	1
user1	0	1
user2	0	1
user3	0	1
user4	0	2
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	1	6
truncate performance_schema.memory_summary_global_by_event_name;
"================== MEMORY_GLOBAL truncated =================="
"================== Step 18 =================="
call dump_thread();
username	user1
status	not found
username	user2
status	not found
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
USER	user1
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user1
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user2
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user2
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user3
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user3
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user3
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user4
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user4
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user4
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	4079616
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	4079616
CURRENT_NUMBER_OF_BYTES_USED	4079616
HIGH_NUMBER_OF_BYTES_USED	4079616
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	4079616
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	4079616
CURRENT_NUMBER_OF_BYTES_USED	4079616
HIGH_NUMBER_OF_BYTES_USED	4079616
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
root	1	1
user1	0	1
user2	0	1
user3	0	1
user4	0	2
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	1	6
truncate performance_schema.accounts;
"================== ACCOUNTS truncated =================="
"================== Step 19 =================="
call dump_thread();
username	user1
status	not found
username	user2
status	not found
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
USER	user1
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user1
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user1
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user2
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user2
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user2
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user3
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user3
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user3
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user4
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user4
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
USER	user4
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	4079616
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	4079616
CURRENT_NUMBER_OF_BYTES_USED	4079616
HIGH_NUMBER_OF_BYTES_USED	4079616
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	4079616
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	4079616
CURRENT_NUMBER_OF_BYTES_USED	4079616
HIGH_NUMBER_OF_BYTES_USED	4079616
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
root	1	1
user1	0	1
user2	0	1
user3	0	1
user4	0	2
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	1	6
truncate performance_schema.users;
"================== USERS truncated =================="
"================== Step 20 =================="
call dump_thread();
username	user1
status	not found
username	user2
status	not found
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	4079616
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	4079616
CURRENT_NUMBER_OF_BYTES_USED	4079616
HIGH_NUMBER_OF_BYTES_USED	4079616
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	4079616
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	4079616
CURRENT_NUMBER_OF_BYTES_USED	4079616
HIGH_NUMBER_OF_BYTES_USED	4079616
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
root	1	1
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	1	6
truncate performance_schema.hosts;
"================== HOSTS truncated =================="
"================== Step 21 =================="
call dump_thread();
username	user1
status	not found
username	user2
status	not found
username	user3
status	not found
username	user4
status	not found
execute dump_memory_account;
execute dump_memory_user;
execute dump_memory_host;
HOST	localhost
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	4079616
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	4079616
CURRENT_NUMBER_OF_BYTES_USED	4079616
HIGH_NUMBER_OF_BYTES_USED	4079616
HOST	localhost
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
HOST	localhost
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
execute dump_memory_global;
EVENT_NAME	memory/sql/Query_cache
COUNT_ALLOC	1
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	4079616
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	1
CURRENT_COUNT_USED	1
HIGH_COUNT_USED	1
LOW_NUMBER_OF_BYTES_USED	4079616
CURRENT_NUMBER_OF_BYTES_USED	4079616
HIGH_NUMBER_OF_BYTES_USED	4079616
EVENT_NAME	memory/sql/User_level_lock
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
EVENT_NAME	memory/sql/user_var_entry::value
COUNT_ALLOC	0
COUNT_FREE	0
SUM_NUMBER_OF_BYTES_ALLOC	0
SUM_NUMBER_OF_BYTES_FREE	0
LOW_COUNT_USED	0
CURRENT_COUNT_USED	0
HIGH_COUNT_USED	0
LOW_NUMBER_OF_BYTES_USED	0
CURRENT_NUMBER_OF_BYTES_USED	0
HIGH_NUMBER_OF_BYTES_USED	0
execute dump_accounts;
USER	HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
execute dump_users;
USER	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
root	1	1
execute dump_hosts;
HOST	CURRENT_CONNECTIONS	TOTAL_CONNECTIONS
localhost	1	1
