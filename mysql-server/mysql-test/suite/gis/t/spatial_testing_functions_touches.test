###############################################################################
#                                                                             #
# This test is aimed to focus on Functions for testing Relations between      #
# Geometry Objects.                                                           #
#                                                                             #
# These functions take 2 geometries as inpout parameters and return           #
# a qualitative or quantitavive realtion between themrealtion between them.   #
#                                                                             #
# Creation Date: 2013-12-16                                                   #
# Author : Horst Hunger                                                       #
#                                                                             #
###############################################################################


--source include/force_myisam_default.inc
--source include/not_embedded.inc
--source include/have_geometry.inc

#Confirming the storage engine
--echo #Confirming the storage engine
SHOW VARIABLES LIKE '%engine%';

############################################################################################
# Creating the spatial objects                                                             #
############################################################################################

--echo #Creating the spatial Geometry object
USE test;

--disable_warnings
DROP TABLE IF EXISTS gis_geometrycollection;
--enable_warnings


CREATE TABLE gis_geometrycollection  (fid INTEGER NOT NULL PRIMARY KEY, g GEOMETRYCOLLECTION);


############################################################################################
# Inserting the values specific to the spatial objects                                     #
############################################################################################

# Geometric elements constructing a star and some of its elememts as base
SET @star_elem_vertical= 'POLYGON((5 0,15 25,25 0,15 5,5 0))';
SET @star_elem_horizontal= 'POLYGON((25 0,0 15,30 15,22 10,25 0))';
SET @star_center= 'POINT(15 10)';
SET @star_top= 'POINT(15 25)';
SET @star_bottom_left= 'POINT(5 0)';
SET @star_bottom_right= 'POINT(25 0)';
SET @star_bottom_points= 'MULTIPOINT(5 0,25 0)';
SET @star_all_points= 'MULTIPOINT(5 0,25 0,15 10,15 25)';
SET @star_line_horizontal= 'LINESTRING(10 15,20 15)';
SET @star_line_vertical= 'LINESTRING(15 5,15 25)';
SET @star_top_to_center= 'LINESTRING(15 25,15 10)';
SET @star_lines_near_horizontal= 'MULTILINESTRING((25 0,0 15,15 30,0 5))';
SET @star_lines_near_vertical= 'MULTILINESTRING((0 5,15 25,0 25))';
SET @star= 'POLYGON((5 0,7 10,0 15,10 15,15 25,20 15,30 15,22 10,25 0,15 5,5 0))';
SET @star_elem_vertical_val= '((5 0,15 25,25 0,15 5,5 0))';
SET @star_elem_horizontal_val= '((25 0,0 15,30 15,22 10,25 0))';
SET @star_of_elems='MULTIPOLYGON(((5 0,15 25,25 0,15 5,5 0)),((25 0,0 15,30 15,22 10,25 0)))';
SET @star_collection_elems='GEOMETRYCOLLECTION(MULTIPOLYGON(((5 0,15 25,25 0,15 5,5 0)),((25 0,0 15,30 15,22 10,25 0))),POLYGON((5 0,7 10,0 15,10 15,15 25,20 15,30 15,22 10,25 0,15 5,5 0)),LINESTRING(15 25,15 10),MULTIPOINT(5 0,25 0),POINT(15 25))';
SET @star_collection_multilinestr='GEOMETRYCOLLECTION(MULTIPOLYGON(((5 0,15 25,25 0,15 5,5 0)),((25 0,0 15,30 15,22 10,25 0))),POLYGON((5 0,7 10,0 15,10 15,15 25,20 15,30 15,22 10,25 0,15 5,5 0)),MULTILINESTRING((25 0,0 15,15 30,0 5)),LINESTRING(15 25,15 10),MULTIPOINT(5 0,25 0),POINT(15 25))';

# Star identical to the base star 
SET @star_elem_vertical_1= 'POLYGON((5 0,15 25,25 0,15 5,5 0))';
SET @star_elem_horizontal_1= 'POLYGON((25 0,0 15,30 15,22 10,25 0))';
SET @star_center_1= 'POINT(15 10)';
SET @star_top_1= 'POINT(15 25)';
SET @star_bottom_left_1= 'POINT(5 0)';
SET @star_bottom_right_1= 'POINT(25 0)';
SET @star_bottom_points_1= 'MULTIPOINT(5 0,25 0)';
SET @star_all_points_1= 'MULTIPOINT(5 0,25 0,15 10,15 25)';
SET @star_line_horizontal_1= 'LINESTRING(10 15,20 15)';
SET @star_line_vertical_1= 'LINESTRING(15 5,15 25)';
SET @star_top_to_center_1= 'LINESTRING(15 25,15 10)';
SET @star_lines_near_horizontal_1= 'MULTILINESTRING((25 0,0 15,15 30,0 5))';
SET @star_lines_near_vertical_1= 'MULTILINESTRING((0 5,15 25,0 25))';
SET @star_1= 'POLYGON((5 0,7 10,0 15,10 15,15 25,20 15,30 15,22 10,25 0,15 5,5 0))';
SET @star_elem_vertical_val_1= '((5 0,15 25,25 0,15 5,5 0))';
SET @star_elem_horizontal_val_1= '((25 0,0 15,30 15,22 10,25 0))';
SET @star_of_elems_1='MULTIPOLYGON(((5 0,15 25,25 0,15 5,5 0)),((25 0,0 15,30 15,22 10,25 0)))';
SET @star_collection_elems_1='GEOMETRYCOLLECTION(MULTIPOLYGON(((5 0,15 25,25 0,15 5,5 0)),((25 0,0 15,30 15,22 10,25 0))),POLYGON((5 0,7 10,0 15,10 15,15 25,20 15,30 15,22 10,25 0,15 5,5 0)),LINESTRING(15 25,15 10),MULTIPOINT(5 0,25 0),POINT(15 25))';

# Star like the base star, but shifted to right by 10 on X to overlap base star
SET @star_elem_vertical_2= 'POLYGON((15 0,25 25,35 0,25 5,15 0))';
SET @star_elem_horizontal_2= 'POLYGON((35 0,10 15,40 15,32 10,35 0))';
SET @star_center_2= 'POINT(25 10)';
SET @star_top_2= 'POINT(25 25)';
SET @star_bottom_left_2= 'POINT(15 0)';
SET @star_bottom_right_2= 'POINT(35 0)';
SET @star_bottom_points_2= 'MULTIPOINT(15 0,35 0)';
SET @star_all_points_2= 'MULTIPOINT(15 0,35 0,35 10,25 25)';
SET @star_line_horizontal_2= 'LINESTRING(20 15,30 15)';
SET @star_line_vertical_2= 'LINESTRING(25 5,25 25)';
SET @star_top_to_center_2= 'LINESTRING(25 25,25 10)';
SET @star_lines_near_horizontal_2= 'MULTILINESTRING((35 0,10 15,25 30,10 5))';
SET @star_lines_near_vertical_2= 'MULTILINESTRING((10 5,25 25,10 25))';
SET @star_2= 'POLYGON((15 0,17 10,10 15,20 15,25 25,30 15,40 15,32 10,35 0,25 5,15 0))';
SET @star_elem_vertical_val_2= '((15 0,25 25,35 0,25 5,15 0))';
SET @star_elem_horizontal_val_2= '((35 0,10 15,40 15,32 10,35 0))';
SET @star_of_elems_2='MULTIPOLYGON(((15 0,25 25,35 0,25 5,15 0)),((35 0,10 15,40 15,32 10,35 0)))';
SET @star_collection_elems_2='GEOMETRYCOLLECTION(MULTIPOLYGON(((15 0,25 25,35 0,25 5,15 0)),((35 0,10 15,40 15,32 10,35 0))),POLYGON((15 0,17 10,10 15,20 15,25 25,30 15,40 15,32 10,35 0,25 5,15 0)),LINESTRING(25 25,25 10),MULTIPOINT(15 0,35 0),POINT(25 25))';

# Star like the base star, but shifted to right by 60 on X to be completly separate
SET @star_elem_vertical_3= 'POLYGON((65 0,75 25,85 0,75 5,65 0))';
SET @star_elem_horizontal_3= 'POLYGON((85 0,60 15,90 15,82 10,85 0))';
SET @star_center_3= 'POINT(75 10)';
SET @star_top_3= 'POINT(75 25)';
SET @star_bottom_left_3= 'POINT(65 0)';
SET @star_bottom_right_3= 'POINT(85 0)';
SET @star_bottom_points_3= 'MULTIPOINT(65 0,85 0)';
SET @star_all_points_3= 'MULTIPOINT(65 0,85 0,75 10,75 25)';
SET @star_line_horizontal_3= 'LINESTRING(70 15,80 15)';
SET @star_line_vertical_3= 'LINESTRING(75 5,75 25)';
SET @star_top_to_center_3= 'LINESTRING(75 25,75 10)';
SET @star_lines_near_horizontal_3= 'MULTILINESTRING((85 0,60 15,85 30,60 5))';
SET @star_lines_near_vertical_3= 'MULTILINESTRING((60 5,75 25,60 25))';
SET @star_3= 'POLYGON((65 0,67 10,60 15,70 15,75 25,80 15,90 15,82 10,85 0,75 5,65 0))';
SET @star_elem_vertical_val_3= '((65 0,75 25,85 0,75 5,65 0))';
SET @star_elem_horizontal_val_3= '((85 0,60 15,90 15,82 10,85 0))';
SET @star_of_elems_3='MULTIPOLYGON(((65 0,75 25,85 0,75 5,65 0)),((85 0,60 15,90 15,82 10,85 0)))';
SET @star_collection_elems_3='GEOMETRYCOLLECTION(MULTIPOLYGON(((65 0,75 25,85 0,75 5,65 0)),((85 0,60 15,90 15,82 10,85 0))),POLYGON((65 0,67 10,60 15,70 15,75 25,80 15,90 15,82 10,85 0,75 5,65 0)),LINESTRING(75 25,75 10),MULTIPOINT(65 0,85 0),POINT(75 25))';


--echo #INSERT base star
--disable_warnings
INSERT INTO gis_geometrycollection VALUES
 (100,GeomFromText(@star)),
 (101,GeomFromText(@star_elem_vertical)),
 (102,GeomFromText(@star_elem_horizontal)),
 (103,GeomFromText(@star_of_elems)),
 (104,GeomFromText(@star_top)),
 (105,GeomFromText(@star_center)),
 (106,GeomFromText(@star_bottom_left)),
 (107,GeomFromText(@star_bottom_right)),
 (108,GeomFromText(@star_bottom_points)),
 (109,GeomFromText(@star_all_points)),
 (110,GeomFromText(@star_line_horizontal)),
 (111,GeomFromText(@star_line_vertical)),
 (112,GeomFromText(@star_top_to_center)),
 (113,GeomFromText(@star_lines_near_horizontal)),
 (114,GeomFromText(@star_lines_near_vertical)),
 (115,GeomFromText(@star_collection_elems));
--enable_warnings

--echo #INSERT identical (to base) star
--disable_warnings
INSERT INTO gis_geometrycollection VALUES
 (200,GeomFromText(@star_1)),
 (201,GeomFromText(@star_elem_vertical_1)),
 (202,GeomFromText(@star_elem_horizontal_1)),
 (203,GeomFromText(@star_of_elems_1)),
 (204,GeomFromText(@star_top_1)),
 (205,GeomFromText(@star_center_1)),
 (206,GeomFromText(@star_bottom_left_1)),
 (207,GeomFromText(@star_bottom_right_1)),
 (208,GeomFromText(@star_bottom_points_1)),
 (209,GeomFromText(@star_all_points_1)),
 (210,GeomFromText(@star_line_horizontal_1)),
 (211,GeomFromText(@star_line_vertical_1)),
 (212,GeomFromText(@star_top_to_center_1)),
 (213,GeomFromText(@star_lines_near_horizontal_1)),
 (214,GeomFromText(@star_lines_near_vertical_1)),
 (215,GeomFromText(@star_collection_elems_1));
--enable_warnings

--echo #INSERT overlapping star
--disable_warnings
INSERT INTO gis_geometrycollection VALUES
 (300,GeomFromText(@star_2)),
 (301,GeomFromText(@star_elem_vertical_2)),
 (302,GeomFromText(@star_elem_horizontal_2)),
 (303,GeomFromText(@star_of_elems_2)),
 (304,GeomFromText(@star_top_2)),
 (305,GeomFromText(@star_center_2)),
 (306,GeomFromText(@star_bottom_left_2)),
 (307,GeomFromText(@star_bottom_right_2)),
 (308,GeomFromText(@star_bottom_points_2)),
 (309,GeomFromText(@star_all_points_2)),
 (310,GeomFromText(@star_line_horizontal_2)),
 (311,GeomFromText(@star_line_vertical_2)),
 (312,GeomFromText(@star_top_to_center_2)),
 (313,GeomFromText(@star_lines_near_horizontal_2)),
 (314,GeomFromText(@star_lines_near_vertical_2)),
 (315,GeomFromText(@star_collection_elems_2));
--enable_warnings

--echo #INSERT seperate star
--disable_warnings
INSERT INTO gis_geometrycollection VALUES
 (400,GeomFromText(@star_3)),
 (401,GeomFromText(@star_elem_vertical_3)),
 (402,GeomFromText(@star_elem_horizontal_3)),
 (403,GeomFromText(@star_of_elems_3)),
 (404,GeomFromText(@star_top_3)),
 (405,GeomFromText(@star_center_3)),
 (406,GeomFromText(@star_bottom_left_3)),
 (407,GeomFromText(@star_bottom_right_3)),
 (408,GeomFromText(@star_bottom_points_3)),
 (409,GeomFromText(@star_all_points_3)),
 (410,GeomFromText(@star_line_horizontal_3)),
 (411,GeomFromText(@star_line_vertical_3)),
 (412,GeomFromText(@star_top_to_center_3)),
 (413,GeomFromText(@star_lines_near_horizontal_3)),
 (414,GeomFromText(@star_lines_near_vertical_3)),
 (415,GeomFromText(@star_collection_elems_3));
--enable_warnings

--disable_warnings
DROP TABLE IF EXISTS gis_geometrycollection_2;
--enable_warnings
CREATE TABLE gis_geometrycollection_2 SELECT fid as fid2,g as g2 FROM gis_geometrycollection;

--echo #Checking the integrity of the above create/insert statements 

--echo #64 rows. 
SELECT count(astext(g) != 'NULL') FROM gis_geometrycollection;
--echo #64 rows. 
SELECT count(astext(g2) != 'NULL') FROM gis_geometrycollection_2;

############################################################################################
# Checking the spatial testing functions                                                   #
############################################################################################

--echo #=======================================================================================
--echo # MBRTouches(g1,g2)
--echo #=======================================================================================

--echo #-------------------------------------------------------------------------------------------
--echo #point,point
SELECT MBRTouches(GeomFromText(@star_center),GeomFromText(@star_center));
SELECT MBRTouches(GeomFromText(@star_top),GeomFromText(@star_center));
SELECT MBRTouches(g,GeomFromText(@star_center)) FROM gis_geometrycollection WHERE fid=105;
--echo #point,multipoint
SELECT MBRTouches(GeomFromText(@star_bottom_left),GeomFromText(@star_bottom_points));
SELECT MBRTouches(GeomFromText(@star_top),GeomFromText(@star_bottom_points));
SELECT MBRTouches(g,GeomFromText(@star_bottom_points)) FROM gis_geometrycollection WHERE fid=106;
--echo #point,linestring
SELECT MBRTouches(GeomFromText(@star_top),GeomFromText(@star_top_to_center));
SELECT MBRTouches(GeomFromText(@star_top),GeomFromText(@star_line_horizontal));
SELECT MBRTouches(g,GeomFromText(@star_top_to_center)) FROM gis_geometrycollection WHERE fid=104;
--echo #point,multilinestring
SELECT MBRTouches(GeomFromText(@star_top),GeomFromText(@star_lines_near_vertical));
SELECT MBRTouches(GeomFromText(@star_top),GeomFromText(@star_lines_near_horizontal));
SELECT MBRTouches(g,GeomFromText(@star_lines_near_vertical)) FROM gis_geometrycollection WHERE fid=104;
--echo #point,polygon
SELECT MBRTouches(GeomFromText(@star_top),GeomFromText(@star));
SELECT MBRTouches(GeomFromText(@star_center),GeomFromText(@star));
SELECT MBRTouches(GeomFromText(@star_top),GeomFromText(@star_elem_horizontal));
SELECT MBRTouches(GeomFromText(@star_top),GeomFromText(@star_elem_vertical));
SELECT MBRTouches(g,GeomFromText(@star)) FROM gis_geometrycollection WHERE fid=104;
--echo #point,multipolygon
SELECT MBRTouches(GeomFromText(@star_top),GeomFromText(@star_of_elems));
SELECT MBRTouches(GeomFromText('POINT(-0.01 0)'),GeomFromText(@star_of_elems));
SELECT MBRTouches(g,GeomFromText(@star_of_elems)) FROM gis_geometrycollection WHERE fid=104;
--echo #point,geometrycollection
SELECT MBRTouches(GeomFromText(@star_top),GeomFromText(@star_collection_elems));
SELECT MBRTouches(GeomFromText('POINT(-0.01 0)'),GeomFromText(@star_collection_elems));
SELECT MBRTouches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=104;
SELECT MBRTouches(GeomFromText(@star_top),GeomFromText(@star_collection_multilinestr));
--echo #-------------------------------------------------------------------------------------------
--echo #multipoint,point
SELECT MBRTouches(GeomFromText(@star_all_points),GeomFromText(@star_top));
SELECT MBRTouches(GeomFromText(@star_bottom_points),GeomFromText(@star_center));
SELECT MBRTouches(g,GeomFromText(@star_bottom_left)) FROM gis_geometrycollection WHERE fid=108;
--echo #multipoint,multipoint
SELECT MBRTouches(GeomFromText(@star_all_points),GeomFromText(@star_bottom_points));
SELECT MBRTouches(GeomFromText(@star_bottom_points),GeomFromText(@star_all_points));
SELECT MBRTouches(g,GeomFromText(@star_all_points)) FROM gis_geometrycollection WHERE fid=208;
SELECT MBRTouches(g,GeomFromText(@star_all_points)) FROM gis_geometrycollection WHERE fid=308;
--echo #multipoint,linestring
SELECT MBRTouches(GeomFromText(@star_all_points),GeomFromText(@star_top_to_center));
SELECT MBRTouches(g,GeomFromText(@star_top_to_center)) FROM gis_geometrycollection WHERE fid=109;
SELECT MBRTouches(g,GeomFromText(@star_top_to_center)) FROM gis_geometrycollection WHERE fid=209;
SELECT MBRTouches(g,GeomFromText(@star_top_to_center)) FROM gis_geometrycollection WHERE fid=309;
--echo #multipoint,multilinestring
SELECT MBRTouches(GeomFromText(@star_all_points),GeomFromText(@star_lines_near_vertical));
SELECT MBRTouches(GeomFromText(@star_all_points),GeomFromText(@star_lines_near_horizontal));
SELECT MBRTouches(g,GeomFromText(@star_lines_near_horizontal)) FROM gis_geometrycollection WHERE fid=109;
--echo #multipoint,polygon
SELECT MBRTouches(GeomFromText(@star_all_points),GeomFromText(@star_elem_vertical));
SELECT MBRTouches(GeomFromText(@star_all_points),GeomFromText(@star_elem_horizontal));
SELECT MBRTouches(g,GeomFromText(@star_elem_horizontal)) FROM gis_geometrycollection WHERE fid=109;
SELECT MBRTouches(g,GeomFromText(@star_elem_horizontal)) FROM gis_geometrycollection WHERE fid=209;
SELECT MBRTouches(g,GeomFromText(@star_elem_horizontal)) FROM gis_geometrycollection WHERE fid=309;
--echo #multipoint,multipolygon
SELECT MBRTouches(GeomFromText('MULTIPOINT(0 0,0 30,30 25)'),GeomFromText(@star_of_elems));
SELECT MBRTouches(GeomFromText(@star_all_points),GeomFromText(@star_of_elems));
SELECT MBRTouches(g,GeomFromText(@star_of_elems)) FROM gis_geometrycollection WHERE fid=109;
SELECT MBRTouches(g,GeomFromText(@star_of_elems)) FROM gis_geometrycollection WHERE fid=209;
SELECT MBRTouches(g,GeomFromText(@star_of_elems)) FROM gis_geometrycollection WHERE fid=309;
--echo #multipoint,geometrycollection
SELECT MBRTouches(GeomFromText('MULTIPOINT(0 0,0 30,30 25)'),GeomFromText(@star_collection_elems));
SELECT MBRTouches(GeomFromText(@star_all_points),GeomFromText(@star_collection_elems));
SELECT MBRTouches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=109;
SELECT MBRTouches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=209;
SELECT MBRTouches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=309;
SELECT MBRTouches(GeomFromText(@star_all_points),GeomFromText(@star_collection_multilinestr));
--echo #-------------------------------------------------------------------------------------------
--echo #linestring,point
SELECT MBRTouches(GeomFromText(@star_top_to_center),GeomFromText(@star_center));
SELECT MBRTouches(GeomFromText(@star_top_to_center),GeomFromText(@star_bottom_left));
SELECT MBRTouches(g,g2) FROM gis_geometrycollection,gis_geometrycollection_2
       WHERE fid=110 and fid2=105;
--echo #linestring,multipoint
SELECT MBRTouches(GeomFromText(@star_line_vertical),GeomFromText('MULTIPOINT(15 10,15 25)'));
SELECT MBRTouches(GeomFromText(@star_line_vertical),GeomFromText(@star_all_points));
SELECT MBRTouches(g,GeomFromText('MULTIPOINT(15 10,15 25)')) FROM gis_geometrycollection WHERE fid=111;
SELECT MBRTouches(g,GeomFromText('MULTIPOINT(15 10,15 25)')) FROM gis_geometrycollection WHERE fid=311;
SELECT MBRTouches(g,GeomFromText('MULTIPOINT(15 10,15 25)')) FROM gis_geometrycollection WHERE fid=411;
--echo #linestring,linestring
SELECT MBRTouches(GeomFromText(@star_line_vertical),GeomFromText(@star_top_to_center));
SELECT MBRTouches(GeomFromText(@star_top_to_center),GeomFromText(@star_line_vertical));
SELECT MBRTouches(g,GeomFromText(@star_top_to_center)) FROM gis_geometrycollection WHERE fid=111;
SELECT MBRTouches(g,GeomFromText(@star_top_to_center)) FROM gis_geometrycollection WHERE fid=311;
SELECT MBRTouches(g,GeomFromText(@star_top_to_center)) FROM gis_geometrycollection WHERE fid=411;
--echo #linestring,multilinestring
SELECT MBRTouches(GeomFromText(@star_line_horizontal),GeomFromText(@star_lines_near_horizontal));
SELECT MBRTouches(GeomFromText(@star_line_horizontal),GeomFromText(@star_lines_near_vertical));
SELECT MBRTouches(g,GeomFromText(@star_lines_near_horizontal)) FROM gis_geometrycollection WHERE fid=110;
--echo #linestring,polygon
SELECT MBRTouches(GeomFromText(@star_line_horizontal),GeomFromText('POLYGON((11 15,19 15,19 10))'));
SELECT MBRTouches(GeomFromText(@star_line_horizontal),GeomFromText(@star_elem_horizontal));
SELECT MBRTouches(GeomFromText(@star_line_horizontal),GeomFromText(@star_elem_horizontal_2));
SELECT MBRTouches(GeomFromText(@star_line_horizontal),GeomFromText(@star_elem_horizontal_3));
SELECT MBRTouches(g,GeomFromText('POLYGON((11 15,19 15,11 15))')) FROM gis_geometrycollection WHERE fid=110;
--echo #linestring,multipolygon
SELECT MBRTouches(GeomFromText(@star_line_horizontal),GeomFromText('MULTIPOLYGON(((11 15,19 15,11 15)),((25 0,0 15,25 0)))'));
SELECT MBRTouches(GeomFromText(@star_line_horizontal),GeomFromText(@star_of_elems));
SELECT MBRTouches(GeomFromText(@star_line_horizontal),GeomFromText(@star_of_elems_2));
SELECT MBRTouches(GeomFromText(@star_line_horizontal),GeomFromText(@star_of_elems_3));
SELECT MBRTouches(g,GeomFromText('MULTIPOLYGON(((11 15,19 15,11 15)),((25 0,0 15,25 0)))')) FROM gis_geometrycollection WHERE fid=110;
--echo #linestring,geometrycollection
SELECT MBRTouches(GeomFromText(@star_line_horizontal),GeomFromText('GEOMETRYCOLLECTION(MULTIPOLYGON(((5 0,15 25,25 0,15 5,5 0)),((25 0,0 15,30 15,22 10,25 0))),POLYGON((5 0,7 10,0 15,10 15,15 25,20 15,30 15,22 10,25 0,15 5,5 0)),LINESTRING(15 25,15 10),MULTIPOINT(5 0,25 0),POINT(15 25))'));
SELECT MBRTouches(GeomFromText(@star_line_horizontal),GeomFromText(@star_collection_elems));
SELECT MBRTouches(GeomFromText(@star_line_horizontal),GeomFromText(@star_collection_elems_2));
SELECT MBRTouches(GeomFromText(@star_line_horizontal),GeomFromText(@star_collection_elems_3));
SELECT MBRTouches(g,GeomFromText('GEOMETRYCOLLECTION(MULTIPOLYGON(((5 0,15 25,25 0,15 5,5 0)),((25 0,0 15,30 15,22 10,25 0))),POLYGON((5 0,7 10,0 15,10 15,15 25,20 15,30 15,22 10,25 0,15 5,5 0)),LINESTRING(15 25,15 10),MULTIPOINT(5 0,25 0),POINT(15 25))')) FROM gis_geometrycollection WHERE fid=110;
SELECT MBRTouches(GeomFromText(@star_line_horizontal),GeomFromText(@star_collection_multilinestr));
--echo #-------------------------------------------------------------------------------------------
--echo #multilinestring,point
SELECT MBRTouches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_top));
SELECT MBRTouches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_center));
SELECT MBRTouches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_center_2));
SELECT MBRTouches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_center_3));
SELECT MBRTouches(g,GeomFromText(@star_top)) FROM gis_geometrycollection WHERE fid=114;
--echo #multilinestring,multipoint
SELECT MBRTouches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_bottom_points));
SELECT MBRTouches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_all_points));
SELECT MBRTouches(g,GeomFromText(@star_bottom_points)) FROM gis_geometrycollection WHERE fid=114;
SELECT MBRTouches(g,g2) FROM gis_geometrycollection,gis_geometrycollection_2
       WHERE fid=114 and fid2=108;
--echo #multilinestring,linestring
SELECT MBRTouches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_line_vertical));
SELECT MBRTouches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_line_horizontal));
SELECT MBRTouches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_line_horizontal_2));
SELECT MBRTouches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_line_horizontal_3));
SELECT MBRTouches(g,GeomFromText(@star_line_vertical)) FROM gis_geometrycollection WHERE fid=114;
--echo #multilinestring,multilinestring
SELECT MBRTouches(GeomFromText(@star_lines_near_vertical),GeomFromText('MULTILINESTRING((0 5,15 25,0 15))'));
SELECT MBRTouches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_lines_near_horizontal));
SELECT MBRTouches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_lines_near_horizontal_3));
SELECT MBRTouches(g,GeomFromText('MULTILINESTRING((0 5,15 25,0 15))')) FROM gis_geometrycollection WHERE fid=114;
--echo #multilinestring,polygon
SELECT MBRTouches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_elem_vertical));
SELECT MBRTouches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_elem_horizontal));
SELECT MBRTouches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_elem_horizontal_2));
SELECT MBRTouches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_elem_horizontal_3));
SELECT MBRTouches(g,GeomFromText(@star_elem_vertical)) FROM gis_geometrycollection WHERE fid=114;
--echo #multilinestring,multipolygon
SELECT MBRTouches(GeomFromText('MULTILINESTRING((0 25,25 0,25 30))'),GeomFromText(@star_elem_vertical));
SELECT MBRTouches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_of_elems));
SELECT MBRTouches(g,GeomFromText(@star_of_elems)) FROM gis_geometrycollection WHERE fid=114;
--echo #multilinestring,geometrycollection
SELECT MBRTouches(GeomFromText('MULTILINESTRING((0 25,25 0,25 30))'),GeomFromText(@star_collection_elems));
SELECT MBRTouches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_collection_elems));
SELECT MBRTouches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=114;
SELECT MBRTouches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_collection_multilinestr));
--echo #-------------------------------------------------------------------------------------------
--echo #polygon,point
SELECT MBRTouches(GeomFromText(@star),GeomFromText(@star_bottom_left));
SELECT MBRTouches(GeomFromText(@star_elem_vertical),GeomFromText('POINT(0 0)'));
SELECT MBRTouches(g,GeomFromText(@star_top)) FROM gis_geometrycollection WHERE fid=100;
SELECT MBRTouches(g,GeomFromText(@star_center)) FROM gis_geometrycollection WHERE fid=200;
SELECT MBRTouches(g,GeomFromText(@star_center)) FROM gis_geometrycollection WHERE fid=300;
SELECT MBRTouches(g,GeomFromText(@star_center)) FROM gis_geometrycollection WHERE fid=400;
--echo #polygon,multipoint
SELECT MBRTouches(GeomFromText(@star),GeomFromText(@star_all_points));
SELECT MBRTouches(GeomFromText(@star_elem_vertical),GeomFromText('MULTIPOINT(0 0,30 25)'));
SELECT MBRTouches(g,GeomFromText(@star_all_points)) FROM gis_geometrycollection WHERE fid=100;
SELECT MBRTouches(g,GeomFromText(@star_all_points)) FROM gis_geometrycollection WHERE fid=300;
SELECT MBRTouches(g,GeomFromText(@star_all_points)) FROM gis_geometrycollection WHERE fid=400;
--echo #polygon,linestring
SELECT MBRTouches(GeomFromText(@star),GeomFromText(@star_line_vertical));
SELECT MBRTouches(GeomFromText(@star_elem_vertical),GeomFromText(@star_line_horizontal));
SELECT MBRTouches(g,GeomFromText(@star_line_vertical)) FROM gis_geometrycollection WHERE fid=100;
SELECT MBRTouches(g,GeomFromText(@star_line_vertical)) FROM gis_geometrycollection WHERE fid=300;
SELECT MBRTouches(g,GeomFromText(@star_line_vertical)) FROM gis_geometrycollection WHERE fid=400;
SELECT MBRTouches(g,g2) FROM gis_geometrycollection,gis_geometrycollection_2
       WHERE fid=100 and fid2=111;
--echo #polygon,multilinestring
SELECT MBRTouches(GeomFromText(@star),GeomFromText(@star_lines_near_vertical));
SELECT MBRTouches(GeomFromText(@star_elem_vertical),GeomFromText(@star_lines_near_horizontal));
SELECT MBRTouches(g,GeomFromText(@star_lines_near_vertical)) FROM gis_geometrycollection WHERE fid=100;
SELECT MBRTouches(g,GeomFromText(@star_lines_near_vertical)) FROM gis_geometrycollection WHERE fid=300;
SELECT MBRTouches(g,GeomFromText(@star_lines_near_vertical)) FROM gis_geometrycollection WHERE fid=400;
--echo #polygon,polygon
SELECT MBRTouches(GeomFromText(@star),GeomFromText(@star_elem_vertical));
SELECT MBRTouches(GeomFromText(@star_elem_vertical),GeomFromText(@star));
SELECT MBRTouches(g,GeomFromText('POLYGON((25 0,25 5,30 0,25 0))')) FROM gis_geometrycollection WHERE fid=100;
SELECT MBRTouches(g,GeomFromText('POLYGON((25 15,25 20,30 15,25 15))')) FROM gis_geometrycollection WHERE fid=100;
SELECT MBRTouches(g,GeomFromText(@star_elem_vertical)) FROM gis_geometrycollection WHERE fid=400;
--echo #polygon,multipolygon
SELECT MBRTouches(GeomFromText(@star),GeomFromText(@star_of_elems));
SELECT MBRTouches(GeomFromText(@star_elem_vertical),GeomFromText(@star_of_elems));
SELECT MBRTouches(g,GeomFromText('MULTIPOLYGON(((25 0,25 5,30 0,25 0)),((25 15,25 20,30 15,25 15)))')) FROM gis_geometrycollection WHERE fid=100;
SELECT MBRTouches(g,GeomFromText(@star_of_elems)) FROM gis_geometrycollection WHERE fid=300;
SELECT MBRTouches(g,GeomFromText(@star_of_elems)) FROM gis_geometrycollection WHERE fid=400;
--echo #polygon,geometrycollection
SELECT MBRTouches(GeomFromText(@star),GeomFromText(@star_collection_elems));
SELECT MBRTouches(GeomFromText(@star_elem_vertical),GeomFromText(@star_collection_elems));
SELECT MBRTouches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=300;
SELECT MBRTouches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=400;
SELECT MBRTouches(GeomFromText(@star),GeomFromText(@star_collection_multilinestr));
--echo #-------------------------------------------------------------------------------------------
--echo #multipolygon,point
SELECT MBRTouches(GeomFromText(@star_of_elems),GeomFromText(@star_top));
SELECT MBRTouches(GeomFromText(@star_of_elems),GeomFromText('POINT(30 30)'));
SELECT MBRTouches(g,GeomFromText(@star_top)) FROM gis_geometrycollection WHERE fid=103;
SELECT MBRTouches(g,GeomFromText(@star_top)) FROM gis_geometrycollection WHERE fid=403;
--echo #multipolygon,multipoint
SELECT MBRTouches(GeomFromText(@star_of_elems),GeomFromText(@star_bottom_points));
SELECT MBRTouches(GeomFromText(@star_of_elems),GeomFromText('MULTIPOINT(30 30,0 35)'));
SELECT MBRTouches(g,GeomFromText(@star_bottom_points)) FROM gis_geometrycollection WHERE fid=103;
SELECT MBRTouches(g,GeomFromText(@star_bottom_points)) FROM gis_geometrycollection WHERE fid=403;
--echo #multipolygon,linestring
SELECT MBRTouches(GeomFromText(@star_of_elems),GeomFromText(@star_top_to_center));
SELECT MBRTouches(GeomFromText(@star_of_elems),GeomFromText('LINESTRING(30 30,0 35)'));
SELECT MBRTouches(g,GeomFromText(@star_top_to_center)) FROM gis_geometrycollection WHERE fid=103;
SELECT MBRTouches(g,GeomFromText(@star_top_to_center)) FROM gis_geometrycollection WHERE fid=403;
--echo #multipolygon,multilinestring
SELECT MBRTouches(GeomFromText(@star_of_elems),GeomFromText(@star_lines_near_vertical));
SELECT MBRTouches(GeomFromText(@star_of_elems),GeomFromText('MULTILINESTRING((0 30,30 30,0 35))'));
SELECT MBRTouches(g,GeomFromText(@star_lines_near_vertical)) FROM gis_geometrycollection WHERE fid=103;
SELECT MBRTouches(g,GeomFromText(@star_lines_near_vertical)) FROM gis_geometrycollection WHERE fid=403;
--echo #multipolygon,polygon
SELECT MBRTouches(GeomFromText(@star_of_elems),GeomFromText(@star_elem_vertical));
SELECT MBRTouches(GeomFromText(@star_of_elems),GeomFromText('POLYGON((25 0,25 5,30 0,25 0))'));
SELECT MBRTouches(GeomFromText(@star_of_elems),GeomFromText('POLYGON((0 0,15 25,35 0,0 0))'));
SELECT MBRTouches(g,GeomFromText(@star_elem_vertical)) FROM gis_geometrycollection WHERE fid=103;
SELECT MBRTouches(g,GeomFromText(@star_elem_vertical)) FROM gis_geometrycollection WHERE fid=303;
SELECT MBRTouches(g,GeomFromText(@star_elem_vertical)) FROM gis_geometrycollection WHERE fid=403;
--echo #multipolygon,multipolygon
SELECT MBRTouches(GeomFromText(@star_of_elems),GeomFromText('MULTIPOLYGON(((25 0,25 5,30 0,25 0)),((25 15,25 20,30 15,25 15)))'));
SELECT MBRTouches(GeomFromText(@star_of_elems),GeomFromText('MULTIPOLYGON(((0 0,15 25,35 0,0 0),(5 0,15 25,25 0,15 5,5 0)))'));
SELECT MBRTouches(g,GeomFromText(@star_of_elems)) FROM gis_geometrycollection WHERE fid=103;
SELECT MBRTouches(g,GeomFromText(@star_of_elems)) FROM gis_geometrycollection WHERE fid=303;
SELECT MBRTouches(g,GeomFromText(@star_of_elems)) FROM gis_geometrycollection WHERE fid=403;
SELECT MBRTouches(g,g2) FROM gis_geometrycollection,gis_geometrycollection_2
       WHERE fid=103 and fid2=103;
--echo #multipolygon,geometrycollection
SELECT MBRTouches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=103;
SELECT MBRTouches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=303;
SELECT MBRTouches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=403;
SELECT MBRTouches(g,g2) FROM gis_geometrycollection,gis_geometrycollection_2
       WHERE fid=103 and fid2=115;
SELECT MBRTouches(GeomFromText(@star_of_elems),GeomFromText(@star_collection_multilinestr));
--echo #-------------------------------------------------------------------------------------------
--echo #geometrycollection,point
SELECT MBRTouches(GeomFromText(@star_collection_elems),GeomFromText(@star_top));
SELECT MBRTouches(GeomFromText(@star_collection_elems),GeomFromText('POINT(30 30)'));
SELECT MBRTouches(g,GeomFromText(@star_top)) FROM gis_geometrycollection WHERE fid=115;
SELECT MBRTouches(g,GeomFromText(@star_top)) FROM gis_geometrycollection WHERE fid=415;
--echo #geometrycollection,multipoint
SELECT MBRTouches(GeomFromText(@star_collection_elems),GeomFromText(@star_bottom_points));
SELECT MBRTouches(GeomFromText(@star_collection_elems),GeomFromText('MULTIPOINT(30 30,0 35)'));
SELECT MBRTouches(g,GeomFromText(@star_bottom_points)) FROM gis_geometrycollection WHERE fid=115;
SELECT MBRTouches(g,GeomFromText(@star_bottom_points)) FROM gis_geometrycollection WHERE fid=415;
--echo #geometrycollection,linestring
SELECT MBRTouches(GeomFromText(@star_collection_elems),GeomFromText(@star_top_to_center));
SELECT MBRTouches(GeomFromText(@star_collection_elems),GeomFromText('LINESTRING(30 30,0 35)'));
SELECT MBRTouches(g,GeomFromText(@star_top_to_center)) FROM gis_geometrycollection WHERE fid=115;
SELECT MBRTouches(g,GeomFromText(@star_top_to_center)) FROM gis_geometrycollection WHERE fid=415;
--echo #geometrycollection,multilinestring
SELECT MBRTouches(GeomFromText(@star_collection_elems),GeomFromText(@star_lines_near_vertical));
SELECT MBRTouches(GeomFromText(@star_collection_elems),GeomFromText('MULTILINESTRING((0 30,30 30,0 35))'));
SELECT MBRTouches(g,GeomFromText(@star_lines_near_vertical)) FROM gis_geometrycollection WHERE fid=115;
SELECT MBRTouches(g,GeomFromText(@star_lines_near_vertical)) FROM gis_geometrycollection WHERE fid=415;
--echo #geometrycollection,polygon
SELECT MBRTouches(GeomFromText(@star_collection_elems),GeomFromText(@star_elem_vertical));
SELECT MBRTouches(GeomFromText(@star_collection_elems),GeomFromText('POLYGON((25 0,25 5,30 0,25 0))'));
SELECT MBRTouches(GeomFromText(@star_collection_elems),GeomFromText('POLYGON((0 0,15 25,35 0,0 0))'));
SELECT MBRTouches(g,GeomFromText(@star_elem_vertical)) FROM gis_geometrycollection WHERE fid=115;
SELECT MBRTouches(g,GeomFromText(@star_elem_vertical)) FROM gis_geometrycollection WHERE fid=315;
SELECT MBRTouches(g,GeomFromText(@star_elem_vertical)) FROM gis_geometrycollection WHERE fid=415;
--echo #geometrycollection,multipolygon
SELECT MBRTouches(GeomFromText(@star_collection_elems),GeomFromText('MULTIPOLYGON(((25 0,25 5,30 0,25 0)),((25 15,25 20,30 15,25 15)))'));
SELECT MBRTouches(GeomFromText(@star_collection_elems),GeomFromText('MULTIPOLYGON(((0 0,15 25,35 0,0 0),(5 0,15 25,25 0,15 5,5 0)))'));
SELECT MBRTouches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=115;
SELECT MBRTouches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=315;
SELECT MBRTouches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=415;
SELECT MBRTouches(g,g2) FROM gis_geometrycollection,gis_geometrycollection_2
       WHERE fid=115 and fid2=115;
--echo #geometrycollection,geometrycollection
SELECT MBRTouches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=115;
SELECT MBRTouches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=315;
SELECT MBRTouches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=415;
SELECT MBRTouches(g,g2) FROM gis_geometrycollection,gis_geometrycollection_2
       WHERE fid=115 and fid2=115;
SELECT MBRTouches(GeomFromText(@star_collection_elems),GeomFromText(@star_collection_multilinestr));

--echo #=======================================================================================
--echo # ST_Touches(g1,g2)
--echo #=======================================================================================

--echo #-------------------------------------------------------------------------------------------
--echo #point,point
SELECT ST_Touches(GeomFromText(@star_center),GeomFromText(@star_center));
SELECT ST_Touches(GeomFromText(@star_top),GeomFromText(@star_center));
SELECT ST_Touches(g,GeomFromText(@star_center)) FROM gis_geometrycollection WHERE fid=105;
--echo #point,multipoint
SELECT ST_Touches(GeomFromText(@star_bottom_left),GeomFromText(@star_bottom_points));
SELECT ST_Touches(GeomFromText(@star_top),GeomFromText(@star_bottom_points));
SELECT ST_Touches(g,GeomFromText(@star_bottom_points)) FROM gis_geometrycollection WHERE fid=106;
--echo #point,linestring
SELECT ST_Touches(GeomFromText(@star_top),GeomFromText(@star_top_to_center));
SELECT ST_Touches(GeomFromText(@star_top),GeomFromText(@star_line_horizontal));
SELECT ST_Touches(g,GeomFromText(@star_top_to_center)) FROM gis_geometrycollection WHERE fid=104;
--echo #point,multilinestring
SELECT ST_Touches(GeomFromText(@star_top),GeomFromText(@star_lines_near_vertical));
SELECT ST_Touches(GeomFromText(@star_top),GeomFromText(@star_lines_near_horizontal));
SELECT ST_Touches(g,GeomFromText(@star_lines_near_vertical)) FROM gis_geometrycollection WHERE fid=104;
--echo #point,polygon
SELECT ST_Touches(GeomFromText(@star_top),GeomFromText(@star));
SELECT ST_Touches(GeomFromText(@star_center),GeomFromText(@star));
SELECT ST_Touches(GeomFromText(@star_top),GeomFromText(@star_elem_horizontal));
SELECT ST_Touches(GeomFromText(@star_top),GeomFromText(@star_elem_vertical));
SELECT ST_Touches(g,GeomFromText(@star)) FROM gis_geometrycollection WHERE fid=104;
--echo #point,multipolygon
SELECT ST_Touches(GeomFromText(@star_top),GeomFromText(@star_of_elems));
SELECT ST_Touches(GeomFromText('POINT(-0.01 0)'),GeomFromText(@star_of_elems));
SELECT ST_Touches(g,GeomFromText(@star_of_elems)) FROM gis_geometrycollection WHERE fid=104;
--echo #point,geometrycollection
SELECT ST_Touches(GeomFromText(@star_top),GeomFromText(@star_collection_elems));
SELECT ST_Touches(GeomFromText('POINT(-0.01 0)'),GeomFromText(@star_collection_elems));
SELECT ST_Touches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=104;
SELECT ST_Touches(GeomFromText(@star_top),GeomFromText(@star_collection_multilinestr));
--echo #-------------------------------------------------------------------------------------------
--echo #multipoint,point
SELECT ST_Touches(GeomFromText(@star_all_points),GeomFromText(@star_top));
SELECT ST_Touches(GeomFromText(@star_bottom_points),GeomFromText(@star_center));
SELECT ST_Touches(g,GeomFromText(@star_bottom_left)) FROM gis_geometrycollection WHERE fid=108;
--echo #multipoint,multipoint
SELECT ST_Touches(GeomFromText(@star_all_points),GeomFromText(@star_bottom_points));
SELECT ST_Touches(GeomFromText(@star_bottom_points),GeomFromText(@star_all_points));
SELECT ST_Touches(g,GeomFromText(@star_all_points)) FROM gis_geometrycollection WHERE fid=208;
SELECT ST_Touches(g,GeomFromText(@star_all_points)) FROM gis_geometrycollection WHERE fid=308;
--echo #multipoint,linestring
SELECT ST_Touches(GeomFromText(@star_all_points),GeomFromText(@star_top_to_center));
SELECT ST_Touches(g,GeomFromText(@star_top_to_center)) FROM gis_geometrycollection WHERE fid=109;
SELECT ST_Touches(g,GeomFromText(@star_top_to_center)) FROM gis_geometrycollection WHERE fid=209;
SELECT ST_Touches(g,GeomFromText(@star_top_to_center)) FROM gis_geometrycollection WHERE fid=309;
--echo #multipoint,multilinestring
SELECT ST_Touches(GeomFromText(@star_all_points),GeomFromText(@star_lines_near_vertical));
SELECT ST_Touches(GeomFromText(@star_all_points),GeomFromText(@star_lines_near_horizontal));
SELECT ST_Touches(g,GeomFromText(@star_lines_near_horizontal)) FROM gis_geometrycollection WHERE fid=109;
--echo #multipoint,polygon
SELECT ST_Touches(GeomFromText(@star_all_points),GeomFromText(@star_elem_vertical));
SELECT ST_Touches(GeomFromText(@star_all_points),GeomFromText(@star_elem_horizontal));
SELECT ST_Touches(g,GeomFromText(@star_elem_horizontal)) FROM gis_geometrycollection WHERE fid=109;
SELECT ST_Touches(g,GeomFromText(@star_elem_horizontal)) FROM gis_geometrycollection WHERE fid=209;
SELECT ST_Touches(g,GeomFromText(@star_elem_horizontal)) FROM gis_geometrycollection WHERE fid=309;
--echo #multipoint,multipolygon
SELECT ST_Touches(GeomFromText('MULTIPOINT(0 0,0 30,30 25)'),GeomFromText(@star_of_elems));
SELECT ST_Touches(GeomFromText(@star_all_points),GeomFromText(@star_of_elems));
SELECT ST_Touches(g,GeomFromText(@star_of_elems)) FROM gis_geometrycollection WHERE fid=109;
SELECT ST_Touches(g,GeomFromText(@star_of_elems)) FROM gis_geometrycollection WHERE fid=209;
SELECT ST_Touches(g,GeomFromText(@star_of_elems)) FROM gis_geometrycollection WHERE fid=309;
--echo #multipoint,geometrycollection
SELECT ST_Touches(GeomFromText('MULTIPOINT(0 0,0 30,30 25)'),GeomFromText(@star_collection_elems));
SELECT ST_Touches(GeomFromText(@star_all_points),GeomFromText(@star_collection_elems));
SELECT ST_Touches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=109;
SELECT ST_Touches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=209;
SELECT ST_Touches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=309;
SELECT ST_Touches(GeomFromText(@star_all_points),GeomFromText(@star_collection_multilinestr));
--echo #-------------------------------------------------------------------------------------------
--echo #linestring,point
SELECT ST_Touches(GeomFromText(@star_top_to_center),GeomFromText(@star_center));
SELECT ST_Touches(GeomFromText(@star_top_to_center),GeomFromText(@star_bottom_left));
SELECT ST_Touches(g,g2) FROM gis_geometrycollection,gis_geometrycollection_2
       WHERE fid=110 and fid2=105;
--echo #linestring,multipoint
SELECT ST_Touches(GeomFromText(@star_line_vertical),GeomFromText('MULTIPOINT(15 10,15 25)'));
SELECT ST_Touches(GeomFromText(@star_line_vertical),GeomFromText(@star_all_points));
SELECT ST_Touches(g,GeomFromText('MULTIPOINT(15 10,15 25)')) FROM gis_geometrycollection WHERE fid=111;
SELECT ST_Touches(g,GeomFromText('MULTIPOINT(15 10,15 25)')) FROM gis_geometrycollection WHERE fid=311;
SELECT ST_Touches(g,GeomFromText('MULTIPOINT(15 10,15 25)')) FROM gis_geometrycollection WHERE fid=411;
--echo #linestring,linestring
SELECT ST_Touches(GeomFromText(@star_line_vertical),GeomFromText(@star_top_to_center));
SELECT ST_Touches(GeomFromText(@star_top_to_center),GeomFromText(@star_line_vertical));
SELECT ST_Touches(g,GeomFromText(@star_top_to_center)) FROM gis_geometrycollection WHERE fid=111;
SELECT ST_Touches(g,GeomFromText(@star_top_to_center)) FROM gis_geometrycollection WHERE fid=311;
SELECT ST_Touches(g,GeomFromText(@star_top_to_center)) FROM gis_geometrycollection WHERE fid=411;
--echo #linestring,multilinestring
SELECT ST_Touches(GeomFromText(@star_line_horizontal),GeomFromText(@star_lines_near_horizontal));
SELECT ST_Touches(GeomFromText(@star_line_horizontal),GeomFromText(@star_lines_near_vertical));
SELECT ST_Touches(g,GeomFromText(@star_lines_near_horizontal)) FROM gis_geometrycollection WHERE fid=110;
--echo #linestring,polygon
SELECT ST_Touches(GeomFromText(@star_line_horizontal),GeomFromText('POLYGON((11 15,19 15,19 10))'));
SELECT ST_Touches(GeomFromText(@star_line_horizontal),GeomFromText(@star_elem_horizontal));
SELECT ST_Touches(GeomFromText(@star_line_horizontal),GeomFromText(@star_elem_horizontal_2));
SELECT ST_Touches(GeomFromText(@star_line_horizontal),GeomFromText(@star_elem_horizontal_3));
SELECT ST_Touches(g,GeomFromText('POLYGON((11 15,19 15,11 15))')) FROM gis_geometrycollection WHERE fid=110;
--echo #linestring,multipolygon
SELECT ST_Touches(GeomFromText(@star_line_horizontal),GeomFromText('MULTIPOLYGON(((11 15,19 15,11 15)),((25 0,0 15,25 0)))'));
SELECT ST_Touches(GeomFromText(@star_line_horizontal),GeomFromText(@star_of_elems));
SELECT ST_Touches(GeomFromText(@star_line_horizontal),GeomFromText(@star_of_elems_2));
SELECT ST_Touches(GeomFromText(@star_line_horizontal),GeomFromText(@star_of_elems_3));
SELECT ST_Touches(g,GeomFromText('MULTIPOLYGON(((11 15,19 15,11 15)),((25 0,0 15,25 0)))')) FROM gis_geometrycollection WHERE fid=110;
--echo #linestring,geometrycollection
SELECT ST_Touches(GeomFromText(@star_line_horizontal),GeomFromText(@star_collection_elems));
SELECT ST_Touches(GeomFromText(@star_line_horizontal),GeomFromText(@star_collection_elems_2));
SELECT ST_Touches(GeomFromText(@star_line_horizontal),GeomFromText(@star_collection_elems_3));
SELECT ST_Touches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=110;
SELECT ST_Touches(GeomFromText(@star_line_horizontal),GeomFromText(@star_collection_multilinestr));
--echo #-------------------------------------------------------------------------------------------
--echo #multilinestring,point
SELECT ST_Touches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_top));
SELECT ST_Touches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_center));
SELECT ST_Touches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_center_2));
SELECT ST_Touches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_center_3));
SELECT ST_Touches(g,GeomFromText(@star_top)) FROM gis_geometrycollection WHERE fid=114;
--echo #multilinestring,multipoint
SELECT ST_Touches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_bottom_points));
SELECT ST_Touches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_all_points));
SELECT ST_Touches(g,GeomFromText(@star_bottom_points)) FROM gis_geometrycollection WHERE fid=114;
SELECT ST_Touches(g,g2) FROM gis_geometrycollection,gis_geometrycollection_2
       WHERE fid=114 and fid2=108;
--echo #multilinestring,linestring
SELECT ST_Touches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_line_vertical));
SELECT ST_Touches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_line_horizontal));
SELECT ST_Touches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_line_horizontal_2));
SELECT ST_Touches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_line_horizontal_3));
SELECT ST_Touches(g,GeomFromText(@star_line_vertical)) FROM gis_geometrycollection WHERE fid=114;
--echo #multilinestring,multilinestring
SELECT ST_Touches(GeomFromText(@star_lines_near_vertical),GeomFromText('MULTILINESTRING((0 5,15 25,0 15))'));
SELECT ST_Touches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_lines_near_horizontal));
SELECT ST_Touches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_lines_near_horizontal_3));
SELECT ST_Touches(g,GeomFromText('MULTILINESTRING((0 5,15 25,0 15))')) FROM gis_geometrycollection WHERE fid=114;
--echo #multilinestring,polygon
SELECT ST_Touches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_elem_vertical));
SELECT ST_Touches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_elem_horizontal));
SELECT ST_Touches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_elem_horizontal_2));
SELECT ST_Touches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_elem_horizontal_3));
SELECT ST_Touches(g,GeomFromText(@star_elem_vertical)) FROM gis_geometrycollection WHERE fid=114;
--echo #multilinestring,multipolygon
SELECT ST_Touches(GeomFromText('MULTILINESTRING((0 25,25 0,25 30))'),GeomFromText(@star_elem_vertical));
SELECT ST_Touches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_of_elems));
SELECT ST_Touches(g,GeomFromText(@star_of_elems)) FROM gis_geometrycollection WHERE fid=114;
--echo #multilinestring,geometrycollection
SELECT ST_Touches(GeomFromText('MULTILINESTRING((0 25,25 0,25 30))'),GeomFromText(@star_collection_elems));
SELECT ST_Touches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_collection_elems));
SELECT ST_Touches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=114;
SELECT ST_Touches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_collection_multilinestr));
--echo #-------------------------------------------------------------------------------------------
--echo #polygon,point
SELECT ST_Touches(GeomFromText(@star),GeomFromText(@star_bottom_left));
SELECT ST_Touches(GeomFromText(@star_elem_vertical),GeomFromText('POINT(0 0)'));
SELECT ST_Touches(g,GeomFromText(@star_top)) FROM gis_geometrycollection WHERE fid=100;
SELECT ST_Touches(g,GeomFromText(@star_center)) FROM gis_geometrycollection WHERE fid=200;
SELECT ST_Touches(g,GeomFromText(@star_center)) FROM gis_geometrycollection WHERE fid=300;
SELECT ST_Touches(g,GeomFromText(@star_center)) FROM gis_geometrycollection WHERE fid=400;
--echo #polygon,multipoint
SELECT ST_Touches(GeomFromText(@star),GeomFromText(@star_all_points));
SELECT ST_Touches(GeomFromText(@star_elem_vertical),GeomFromText('MULTIPOINT(0 0,30 25)'));
SELECT ST_Touches(g,GeomFromText(@star_all_points)) FROM gis_geometrycollection WHERE fid=100;
SELECT ST_Touches(g,GeomFromText(@star_all_points)) FROM gis_geometrycollection WHERE fid=300;
SELECT ST_Touches(g,GeomFromText(@star_all_points)) FROM gis_geometrycollection WHERE fid=400;
--echo #polygon,linestring
SELECT ST_Touches(GeomFromText(@star),GeomFromText(@star_line_vertical));
SELECT ST_Touches(GeomFromText(@star_elem_vertical),GeomFromText(@star_line_horizontal));
SELECT ST_Touches(g,GeomFromText(@star_line_vertical)) FROM gis_geometrycollection WHERE fid=100;
SELECT ST_Touches(g,GeomFromText(@star_line_vertical)) FROM gis_geometrycollection WHERE fid=300;
SELECT ST_Touches(g,GeomFromText(@star_line_vertical)) FROM gis_geometrycollection WHERE fid=400;
SELECT ST_Touches(g,g2) FROM gis_geometrycollection,gis_geometrycollection_2
       WHERE fid=100 and fid2=111;
--echo #polygon,multilinestring
SELECT ST_Touches(GeomFromText(@star),GeomFromText(@star_lines_near_vertical));
SELECT ST_Touches(GeomFromText(@star_elem_vertical),GeomFromText(@star_lines_near_horizontal));
SELECT ST_Touches(g,GeomFromText(@star_lines_near_vertical)) FROM gis_geometrycollection WHERE fid=100;
SELECT ST_Touches(g,GeomFromText(@star_lines_near_vertical)) FROM gis_geometrycollection WHERE fid=300;
SELECT ST_Touches(g,GeomFromText(@star_lines_near_vertical)) FROM gis_geometrycollection WHERE fid=400;
--echo #polygon,polygon
SELECT ST_Touches(GeomFromText(@star),GeomFromText(@star_elem_vertical));
SELECT ST_Touches(GeomFromText(@star_elem_vertical),GeomFromText(@star));
SELECT ST_Touches(g,GeomFromText('POLYGON((25 0,25 5,30 0,25 0))')) FROM gis_geometrycollection WHERE fid=100;
SELECT ST_Touches(g,GeomFromText('POLYGON((25 15,25 20,30 15,25 15))')) FROM gis_geometrycollection WHERE fid=100;
SELECT ST_Touches(g,GeomFromText(@star_elem_vertical)) FROM gis_geometrycollection WHERE fid=400;
--echo #polygon,multipolygon
SELECT ST_Touches(GeomFromText(@star),GeomFromText(@star_of_elems));
SELECT ST_Touches(GeomFromText(@star_elem_vertical),GeomFromText(@star_of_elems));
SELECT ST_Touches(g,GeomFromText('MULTIPOLYGON(((25 0,25 5,30 0,25 0)),((25 15,25 20,30 15,25 15)))')) FROM gis_geometrycollection WHERE fid=100;
SELECT ST_Touches(g,GeomFromText(@star_of_elems)) FROM gis_geometrycollection WHERE fid=300;
SELECT ST_Touches(g,GeomFromText(@star_of_elems)) FROM gis_geometrycollection WHERE fid=400;
--echo #polygon,geometrycollection
SELECT ST_Touches(GeomFromText(@star),GeomFromText(@star_collection_elems));
SELECT ST_Touches(GeomFromText(@star_elem_vertical),GeomFromText(@star_collection_elems));
SELECT ST_Touches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=300;
SELECT ST_Touches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=400;
SELECT ST_Touches(GeomFromText(@star),GeomFromText(@star_collection_multilinestr));
--echo #-------------------------------------------------------------------------------------------
--echo #multipolygon,point
SELECT ST_Touches(GeomFromText(@star_of_elems),GeomFromText(@star_top));
SELECT ST_Touches(GeomFromText(@star_of_elems),GeomFromText('POINT(30 30)'));
SELECT ST_Touches(g,GeomFromText(@star_top)) FROM gis_geometrycollection WHERE fid=103;
SELECT ST_Touches(g,GeomFromText(@star_top)) FROM gis_geometrycollection WHERE fid=403;
--echo #multipolygon,multipoint
SELECT ST_Touches(GeomFromText(@star_of_elems),GeomFromText(@star_bottom_points));
SELECT ST_Touches(GeomFromText(@star_of_elems),GeomFromText('MULTIPOINT(30 30,0 35)'));
SELECT ST_Touches(g,GeomFromText(@star_bottom_points)) FROM gis_geometrycollection WHERE fid=103;
SELECT ST_Touches(g,GeomFromText(@star_bottom_points)) FROM gis_geometrycollection WHERE fid=403;
--echo #multipolygon,linestring
SELECT ST_Touches(GeomFromText(@star_of_elems),GeomFromText(@star_top_to_center));
SELECT ST_Touches(GeomFromText(@star_of_elems),GeomFromText('LINESTRING(30 30,0 35)'));
SELECT ST_Touches(g,GeomFromText(@star_top_to_center)) FROM gis_geometrycollection WHERE fid=103;
SELECT ST_Touches(g,GeomFromText(@star_top_to_center)) FROM gis_geometrycollection WHERE fid=403;
--echo #multipolygon,multilinestring
SELECT ST_Touches(GeomFromText(@star_of_elems),GeomFromText(@star_lines_near_vertical));
SELECT ST_Touches(GeomFromText(@star_of_elems),GeomFromText('MULTILINESTRING((0 30,30 30,0 35))'));
SELECT ST_Touches(g,GeomFromText(@star_lines_near_vertical)) FROM gis_geometrycollection WHERE fid=103;
SELECT ST_Touches(g,GeomFromText(@star_lines_near_vertical)) FROM gis_geometrycollection WHERE fid=403;
--echo #multipolygon,polygon
SELECT ST_Touches(GeomFromText(@star_of_elems),GeomFromText(@star_elem_vertical));
SELECT ST_Touches(GeomFromText(@star_of_elems),GeomFromText('POLYGON((25 0,25 5,30 0,25 0))'));
SELECT ST_Touches(GeomFromText(@star_of_elems),GeomFromText('POLYGON((0 0,15 25,35 0,0 0))'));
SELECT ST_Touches(g,GeomFromText(@star_elem_vertical)) FROM gis_geometrycollection WHERE fid=103;
SELECT ST_Touches(g,GeomFromText(@star_elem_vertical)) FROM gis_geometrycollection WHERE fid=303;
SELECT ST_Touches(g,GeomFromText(@star_elem_vertical)) FROM gis_geometrycollection WHERE fid=403;
--echo #multipolygon,multipolygon
SELECT ST_Touches(GeomFromText(@star_of_elems),GeomFromText('MULTIPOLYGON(((25 0,25 5,30 0,25 0)),((25 15,25 20,30 15,25 15)))'));
SELECT ST_Touches(GeomFromText(@star_of_elems),GeomFromText('MULTIPOLYGON(((0 0,15 25,35 0,0 0),(5 0,15 25,25 0,15 5,5 0)))'));
SELECT ST_Touches(g,GeomFromText(@star_of_elems)) FROM gis_geometrycollection WHERE fid=103;
SELECT ST_Touches(g,GeomFromText(@star_of_elems)) FROM gis_geometrycollection WHERE fid=303;
SELECT ST_Touches(g,GeomFromText(@star_of_elems)) FROM gis_geometrycollection WHERE fid=403;
SELECT ST_Touches(g,g2) FROM gis_geometrycollection,gis_geometrycollection_2
       WHERE fid=103 and fid2=103;
--echo #multipolygon,geometrycollection
SELECT ST_Touches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=103;
SELECT ST_Touches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=303;
SELECT ST_Touches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=403;
SELECT ST_Touches(g,g2) FROM gis_geometrycollection,gis_geometrycollection_2
       WHERE fid=103 and fid2=115;
SELECT ST_Touches(GeomFromText(@star_of_elems),GeomFromText(@star_collection_multilinestr));
--echo #-------------------------------------------------------------------------------------------
--echo #geometrycollection,point
SELECT ST_Touches(GeomFromText(@star_collection_elems),GeomFromText(@star_top));
SELECT ST_Touches(GeomFromText(@star_collection_elems),GeomFromText('POINT(30 30)'));
SELECT ST_Touches(g,GeomFromText(@star_top)) FROM gis_geometrycollection WHERE fid=115;
SELECT ST_Touches(g,GeomFromText(@star_top)) FROM gis_geometrycollection WHERE fid=415;
--echo #geometrycollection,multipoint
SELECT ST_Touches(GeomFromText(@star_collection_elems),GeomFromText(@star_bottom_points));
SELECT ST_Touches(GeomFromText(@star_collection_elems),GeomFromText('MULTIPOINT(30 30,0 35)'));
SELECT ST_Touches(g,GeomFromText(@star_bottom_points)) FROM gis_geometrycollection WHERE fid=115;
SELECT ST_Touches(g,GeomFromText(@star_bottom_points)) FROM gis_geometrycollection WHERE fid=415;
--echo #geometrycollection,linestring
SELECT ST_Touches(GeomFromText(@star_collection_elems),GeomFromText(@star_top_to_center));
SELECT ST_Touches(GeomFromText(@star_collection_elems),GeomFromText('LINESTRING(30 30,0 35)'));
SELECT ST_Touches(g,GeomFromText(@star_top_to_center)) FROM gis_geometrycollection WHERE fid=115;
SELECT ST_Touches(g,GeomFromText(@star_top_to_center)) FROM gis_geometrycollection WHERE fid=415;
--echo #geometrycollection,multilinestring
SELECT ST_Touches(GeomFromText(@star_collection_elems),GeomFromText(@star_lines_near_vertical));
SELECT ST_Touches(GeomFromText(@star_collection_elems),GeomFromText('MULTILINESTRING((0 30,30 30,0 35))'));
SELECT ST_Touches(g,GeomFromText(@star_lines_near_vertical)) FROM gis_geometrycollection WHERE fid=115;
SELECT ST_Touches(g,GeomFromText(@star_lines_near_vertical)) FROM gis_geometrycollection WHERE fid=415;
--echo #geometrycollection,polygon
SELECT ST_Touches(GeomFromText(@star_collection_elems),GeomFromText(@star_elem_vertical));
SELECT ST_Touches(GeomFromText(@star_collection_elems),GeomFromText('POLYGON((25 0,25 5,30 0,25 0))'));
SELECT ST_Touches(GeomFromText(@star_collection_elems),GeomFromText('POLYGON((0 0,15 25,35 0,0 0))'));
SELECT ST_Touches(g,GeomFromText(@star_elem_vertical)) FROM gis_geometrycollection WHERE fid=115;
SELECT ST_Touches(g,GeomFromText(@star_elem_vertical)) FROM gis_geometrycollection WHERE fid=315;
SELECT ST_Touches(g,GeomFromText(@star_elem_vertical)) FROM gis_geometrycollection WHERE fid=415;
--echo #geometrycollection,multipolygon
SELECT ST_Touches(GeomFromText(@star_collection_elems),GeomFromText('MULTIPOLYGON(((25 0,25 5,30 0,25 0)),((25 15,25 20,30 15,25 15)))'));
SELECT ST_Touches(GeomFromText(@star_collection_elems),GeomFromText('MULTIPOLYGON(((0 0,15 25,35 0,0 0),(5 0,15 25,25 0,15 5,5 0)))'));
SELECT ST_Touches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=115;
SELECT ST_Touches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=315;
SELECT ST_Touches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=415;
SELECT ST_Touches(g,g2) FROM gis_geometrycollection,gis_geometrycollection_2
       WHERE fid=115 and fid2=115;
--echo #geometrycollection,geometrycollection
SELECT ST_Touches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=115;
SELECT ST_Touches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=315;
SELECT ST_Touches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=415;
SELECT ST_Touches(g,g2) FROM gis_geometrycollection,gis_geometrycollection_2
       WHERE fid=115 and fid2=115;
SELECT ST_Touches(GeomFromText(@star_collection_elems),GeomFromText(@star_collection_multilinestr));

--echo #=======================================================================================
--echo # Touches(g1,g2)
--echo #=======================================================================================

--echo #-------------------------------------------------------------------------------------------
--echo #point,point
SELECT Touches(GeomFromText(@star_center),GeomFromText(@star_center));
SELECT Touches(GeomFromText(@star_top),GeomFromText(@star_center));
SELECT Touches(g,GeomFromText(@star_center)) FROM gis_geometrycollection WHERE fid=105;
--echo #point,multipoint
SELECT Touches(GeomFromText(@star_bottom_left),GeomFromText(@star_bottom_points));
SELECT Touches(GeomFromText(@star_top),GeomFromText(@star_bottom_points));
SELECT Touches(g,GeomFromText(@star_bottom_points)) FROM gis_geometrycollection WHERE fid=106;
--echo #point,linestring
SELECT Touches(GeomFromText(@star_top),GeomFromText(@star_top_to_center));
SELECT Touches(GeomFromText(@star_top),GeomFromText(@star_line_horizontal));
SELECT Touches(g,GeomFromText(@star_top_to_center)) FROM gis_geometrycollection WHERE fid=104;
--echo #point,multilinestring
SELECT Touches(GeomFromText(@star_top),GeomFromText(@star_lines_near_vertical));
SELECT Touches(GeomFromText(@star_top),GeomFromText(@star_lines_near_horizontal));
SELECT Touches(g,GeomFromText(@star_lines_near_vertical)) FROM gis_geometrycollection WHERE fid=104;
--echo #point,polygon
SELECT Touches(GeomFromText(@star_top),GeomFromText(@star));
SELECT Touches(GeomFromText(@star_center),GeomFromText(@star));
SELECT Touches(GeomFromText(@star_top),GeomFromText(@star_elem_horizontal));
SELECT Touches(GeomFromText(@star_top),GeomFromText(@star_elem_vertical));
SELECT Touches(g,GeomFromText(@star)) FROM gis_geometrycollection WHERE fid=104;
--echo #point,multipolygon
SELECT Touches(GeomFromText(@star_top),GeomFromText(@star_of_elems));
SELECT Touches(GeomFromText('POINT(-0.01 0)'),GeomFromText(@star_of_elems));
SELECT Touches(g,GeomFromText(@star_of_elems)) FROM gis_geometrycollection WHERE fid=104;
--echo #point,geometrycollection
SELECT Touches(GeomFromText(@star_top),GeomFromText(@star_collection_elems));
SELECT Touches(GeomFromText('POINT(-0.01 0)'),GeomFromText(@star_collection_elems));
SELECT Touches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=104;
SELECT Touches(GeomFromText(@star_top),GeomFromText(@star_collection_multilinestr));
--echo #-------------------------------------------------------------------------------------------
--echo #multipoint,point
SELECT Touches(GeomFromText(@star_all_points),GeomFromText(@star_top));
SELECT Touches(GeomFromText(@star_bottom_points),GeomFromText(@star_center));
SELECT Touches(g,GeomFromText(@star_bottom_left)) FROM gis_geometrycollection WHERE fid=108;
--echo #multipoint,multipoint
SELECT Touches(GeomFromText(@star_all_points),GeomFromText(@star_bottom_points));
SELECT Touches(GeomFromText(@star_bottom_points),GeomFromText(@star_all_points));
SELECT Touches(g,GeomFromText(@star_all_points)) FROM gis_geometrycollection WHERE fid=208;
SELECT Touches(g,GeomFromText(@star_all_points)) FROM gis_geometrycollection WHERE fid=308;
--echo #multipoint,linestring
SELECT Touches(GeomFromText(@star_all_points),GeomFromText(@star_top_to_center));
SELECT Touches(g,GeomFromText(@star_top_to_center)) FROM gis_geometrycollection WHERE fid=109;
SELECT Touches(g,GeomFromText(@star_top_to_center)) FROM gis_geometrycollection WHERE fid=209;
SELECT Touches(g,GeomFromText(@star_top_to_center)) FROM gis_geometrycollection WHERE fid=309;
--echo #multipoint,multilinestring
SELECT Touches(GeomFromText(@star_all_points),GeomFromText(@star_lines_near_vertical));
SELECT Touches(GeomFromText(@star_all_points),GeomFromText(@star_lines_near_horizontal));
SELECT Touches(g,GeomFromText(@star_lines_near_horizontal)) FROM gis_geometrycollection WHERE fid=109;
--echo #multipoint,polygon
SELECT Touches(GeomFromText(@star_all_points),GeomFromText(@star_elem_vertical));
SELECT Touches(GeomFromText(@star_all_points),GeomFromText(@star_elem_horizontal));
SELECT Touches(g,GeomFromText(@star_elem_horizontal)) FROM gis_geometrycollection WHERE fid=109;
SELECT Touches(g,GeomFromText(@star_elem_horizontal)) FROM gis_geometrycollection WHERE fid=209;
SELECT Touches(g,GeomFromText(@star_elem_horizontal)) FROM gis_geometrycollection WHERE fid=309;
--echo #multipoint,multipolygon
SELECT Touches(GeomFromText('MULTIPOINT(0 0,0 30,30 25)'),GeomFromText(@star_of_elems));
SELECT Touches(GeomFromText(@star_all_points),GeomFromText(@star_of_elems));
SELECT Touches(g,GeomFromText(@star_of_elems)) FROM gis_geometrycollection WHERE fid=109;
SELECT Touches(g,GeomFromText(@star_of_elems)) FROM gis_geometrycollection WHERE fid=209;
SELECT Touches(g,GeomFromText(@star_of_elems)) FROM gis_geometrycollection WHERE fid=309;
--echo #multipoint,geometrycollection
SELECT Touches(GeomFromText('MULTIPOINT(0 0,0 30,30 25)'),GeomFromText(@star_collection_elems));
SELECT Touches(GeomFromText(@star_all_points),GeomFromText(@star_collection_elems));
SELECT Touches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=109;
SELECT Touches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=209;
SELECT Touches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=309;
SELECT Touches(GeomFromText(@star_all_points),GeomFromText(@star_collection_multilinestr));
--echo #-------------------------------------------------------------------------------------------
--echo #linestring,point
SELECT Touches(GeomFromText(@star_top_to_center),GeomFromText(@star_center));
SELECT Touches(GeomFromText(@star_top_to_center),GeomFromText(@star_bottom_left));
SELECT Touches(g,g2) FROM gis_geometrycollection,gis_geometrycollection_2
       WHERE fid=110 and fid2=105;
--echo #linestring,multipoint
SELECT Touches(GeomFromText(@star_line_vertical),GeomFromText('MULTIPOINT(15 10,15 25)'));
SELECT Touches(GeomFromText(@star_line_vertical),GeomFromText(@star_all_points));
SELECT Touches(g,GeomFromText('MULTIPOINT(15 10,15 25)')) FROM gis_geometrycollection WHERE fid=111;
SELECT Touches(g,GeomFromText('MULTIPOINT(15 10,15 25)')) FROM gis_geometrycollection WHERE fid=311;
SELECT Touches(g,GeomFromText('MULTIPOINT(15 10,15 25)')) FROM gis_geometrycollection WHERE fid=411;
--echo #linestring,linestring
SELECT Touches(GeomFromText(@star_line_vertical),GeomFromText(@star_top_to_center));
SELECT Touches(GeomFromText(@star_top_to_center),GeomFromText(@star_line_vertical));
SELECT Touches(g,GeomFromText(@star_top_to_center)) FROM gis_geometrycollection WHERE fid=111;
SELECT Touches(g,GeomFromText(@star_top_to_center)) FROM gis_geometrycollection WHERE fid=311;
SELECT Touches(g,GeomFromText(@star_top_to_center)) FROM gis_geometrycollection WHERE fid=411;
--echo #linestring,multilinestring
SELECT Touches(GeomFromText(@star_line_horizontal),GeomFromText(@star_lines_near_horizontal));
SELECT Touches(GeomFromText(@star_line_horizontal),GeomFromText(@star_lines_near_vertical));
SELECT Touches(g,GeomFromText(@star_lines_near_horizontal)) FROM gis_geometrycollection WHERE fid=110;
--echo #linestring,polygon
SELECT Touches(GeomFromText(@star_line_horizontal),GeomFromText('POLYGON((11 15,19 15,19 10))'));
SELECT Touches(GeomFromText(@star_line_horizontal),GeomFromText(@star_elem_horizontal));
SELECT Touches(GeomFromText(@star_line_horizontal),GeomFromText(@star_elem_horizontal_2));
SELECT Touches(GeomFromText(@star_line_horizontal),GeomFromText(@star_elem_horizontal_3));
SELECT Touches(g,GeomFromText('POLYGON((11 15,19 15,11 15))')) FROM gis_geometrycollection WHERE fid=110;
--echo #linestring,multipolygon
SELECT Touches(GeomFromText(@star_line_horizontal),GeomFromText('MULTIPOLYGON(((11 15,19 15,11 15)),((25 0,0 15,25 0)))'));
SELECT Touches(GeomFromText(@star_line_horizontal),GeomFromText(@star_of_elems));
SELECT Touches(GeomFromText(@star_line_horizontal),GeomFromText(@star_of_elems_2));
SELECT Touches(GeomFromText(@star_line_horizontal),GeomFromText(@star_of_elems_3));
SELECT Touches(g,GeomFromText('MULTIPOLYGON(((11 15,19 15,11 15)),((25 0,0 15,25 0)))')) FROM gis_geometrycollection WHERE fid=110;
--echo #linestring,geometrycollection
SELECT Touches(GeomFromText(@star_line_horizontal),GeomFromText(@star_collection_elems));
SELECT Touches(GeomFromText(@star_line_horizontal),GeomFromText(@star_collection_elems_2));
SELECT Touches(GeomFromText(@star_line_horizontal),GeomFromText(@star_collection_elems_3));
SELECT Touches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=110;
SELECT Touches(GeomFromText(@star_line_horizontal),GeomFromText(@star_collection_multilinestr));
--echo #-------------------------------------------------------------------------------------------
--echo #multilinestring,point
SELECT Touches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_top));
SELECT Touches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_center));
SELECT Touches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_center_2));
SELECT Touches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_center_3));
SELECT Touches(g,GeomFromText(@star_top)) FROM gis_geometrycollection WHERE fid=114;
--echo #multilinestring,multipoint
SELECT Touches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_bottom_points));
SELECT Touches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_all_points));
SELECT Touches(g,GeomFromText(@star_bottom_points)) FROM gis_geometrycollection WHERE fid=114;
SELECT Touches(g,g2) FROM gis_geometrycollection,gis_geometrycollection_2
       WHERE fid=114 and fid2=108;
--echo #multilinestring,linestring
SELECT Touches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_line_vertical));
SELECT Touches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_line_horizontal));
SELECT Touches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_line_horizontal_2));
SELECT Touches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_line_horizontal_3));
SELECT Touches(g,GeomFromText(@star_line_vertical)) FROM gis_geometrycollection WHERE fid=114;
--echo #multilinestring,multilinestring
SELECT Touches(GeomFromText(@star_lines_near_vertical),GeomFromText('MULTILINESTRING((0 5,15 25,0 15))'));
SELECT Touches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_lines_near_horizontal));
SELECT Touches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_lines_near_horizontal_3));
SELECT Touches(g,GeomFromText('MULTILINESTRING((0 5,15 25,0 15))')) FROM gis_geometrycollection WHERE fid=114;
--echo #multilinestring,polygon
SELECT Touches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_elem_vertical));
SELECT Touches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_elem_horizontal));
SELECT Touches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_elem_horizontal_2));
SELECT Touches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_elem_horizontal_3));
SELECT Touches(g,GeomFromText(@star_elem_vertical)) FROM gis_geometrycollection WHERE fid=114;
--echo #multilinestring,multipolygon
SELECT Touches(GeomFromText('MULTILINESTRING((0 25,25 0,25 30))'),GeomFromText(@star_elem_vertical));
SELECT Touches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_of_elems));
SELECT Touches(g,GeomFromText(@star_of_elems)) FROM gis_geometrycollection WHERE fid=114;
--echo #multilinestring,geometrycollection
SELECT Touches(GeomFromText('MULTILINESTRING((0 25,25 0,25 30))'),GeomFromText(@star_collection_elems));
SELECT Touches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_collection_elems));
SELECT Touches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=114;
SELECT Touches(GeomFromText(@star_lines_near_vertical),GeomFromText(@star_collection_multilinestr));
--echo #-------------------------------------------------------------------------------------------
--echo #polygon,point
SELECT Touches(GeomFromText(@star),GeomFromText(@star_bottom_left));
SELECT Touches(GeomFromText(@star_elem_vertical),GeomFromText('POINT(0 0)'));
SELECT Touches(g,GeomFromText(@star_top)) FROM gis_geometrycollection WHERE fid=100;
SELECT Touches(g,GeomFromText(@star_center)) FROM gis_geometrycollection WHERE fid=200;
SELECT Touches(g,GeomFromText(@star_center)) FROM gis_geometrycollection WHERE fid=300;
SELECT Touches(g,GeomFromText(@star_center)) FROM gis_geometrycollection WHERE fid=400;
--echo #polygon,multipoint
SELECT Touches(GeomFromText(@star),GeomFromText(@star_all_points));
SELECT Touches(GeomFromText(@star_elem_vertical),GeomFromText('MULTIPOINT(0 0,30 25)'));
SELECT Touches(g,GeomFromText(@star_all_points)) FROM gis_geometrycollection WHERE fid=100;
SELECT Touches(g,GeomFromText(@star_all_points)) FROM gis_geometrycollection WHERE fid=300;
SELECT Touches(g,GeomFromText(@star_all_points)) FROM gis_geometrycollection WHERE fid=400;
--echo #polygon,linestring
SELECT Touches(GeomFromText(@star),GeomFromText(@star_line_vertical));
SELECT Touches(GeomFromText(@star_elem_vertical),GeomFromText(@star_line_horizontal));
SELECT Touches(g,GeomFromText(@star_line_vertical)) FROM gis_geometrycollection WHERE fid=100;
SELECT Touches(g,GeomFromText(@star_line_vertical)) FROM gis_geometrycollection WHERE fid=300;
SELECT Touches(g,GeomFromText(@star_line_vertical)) FROM gis_geometrycollection WHERE fid=400;
SELECT Touches(g,g2) FROM gis_geometrycollection,gis_geometrycollection_2
       WHERE fid=100 and fid2=111;
--echo #polygon,multilinestring
SELECT Touches(GeomFromText(@star),GeomFromText(@star_lines_near_vertical));
SELECT Touches(GeomFromText(@star_elem_vertical),GeomFromText(@star_lines_near_horizontal));
SELECT Touches(g,GeomFromText(@star_lines_near_vertical)) FROM gis_geometrycollection WHERE fid=100;
SELECT Touches(g,GeomFromText(@star_lines_near_vertical)) FROM gis_geometrycollection WHERE fid=300;
SELECT Touches(g,GeomFromText(@star_lines_near_vertical)) FROM gis_geometrycollection WHERE fid=400;
--echo #polygon,polygon
SELECT Touches(GeomFromText(@star),GeomFromText(@star_elem_vertical));
SELECT Touches(GeomFromText(@star_elem_vertical),GeomFromText(@star));
SELECT Touches(g,GeomFromText('POLYGON((25 0,25 5,30 0,25 0))')) FROM gis_geometrycollection WHERE fid=100;
SELECT Touches(g,GeomFromText('POLYGON((25 15,25 20,30 15,25 15))')) FROM gis_geometrycollection WHERE fid=100;
SELECT Touches(g,GeomFromText(@star_elem_vertical)) FROM gis_geometrycollection WHERE fid=400;
--echo #polygon,multipolygon
SELECT Touches(GeomFromText(@star),GeomFromText(@star_of_elems));
SELECT Touches(GeomFromText(@star_elem_vertical),GeomFromText(@star_of_elems));
SELECT Touches(g,GeomFromText('MULTIPOLYGON(((25 0,25 5,30 0,25 0)),((25 15,25 20,30 15,25 15)))')) FROM gis_geometrycollection WHERE fid=100;
SELECT Touches(g,GeomFromText(@star_of_elems)) FROM gis_geometrycollection WHERE fid=300;
SELECT Touches(g,GeomFromText(@star_of_elems)) FROM gis_geometrycollection WHERE fid=400;
--echo #polygon,geometrycollection
SELECT Touches(GeomFromText(@star),GeomFromText(@star_collection_elems));
SELECT Touches(GeomFromText(@star_elem_vertical),GeomFromText(@star_collection_elems));
SELECT Touches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=100;
SELECT Touches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=300;
SELECT Touches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=400;
SELECT Touches(GeomFromText(@star),GeomFromText(@star_collection_multilinestr));
--echo #-------------------------------------------------------------------------------------------
--echo #multipolygon,point
SELECT Touches(GeomFromText(@star_of_elems),GeomFromText(@star_top));
SELECT Touches(GeomFromText(@star_of_elems),GeomFromText('POINT(30 30)'));
SELECT Touches(g,GeomFromText(@star_top)) FROM gis_geometrycollection WHERE fid=103;
SELECT Touches(g,GeomFromText(@star_top)) FROM gis_geometrycollection WHERE fid=403;
--echo #multipolygon,multipoint
SELECT Touches(GeomFromText(@star_of_elems),GeomFromText(@star_bottom_points));
SELECT Touches(GeomFromText(@star_of_elems),GeomFromText('MULTIPOINT(30 30,0 35)'));
SELECT Touches(g,GeomFromText(@star_bottom_points)) FROM gis_geometrycollection WHERE fid=103;
SELECT Touches(g,GeomFromText(@star_bottom_points)) FROM gis_geometrycollection WHERE fid=403;
--echo #multipolygon,linestring
SELECT Touches(GeomFromText(@star_of_elems),GeomFromText(@star_top_to_center));
SELECT Touches(GeomFromText(@star_of_elems),GeomFromText('LINESTRING(30 30,0 35)'));
SELECT Touches(g,GeomFromText(@star_top_to_center)) FROM gis_geometrycollection WHERE fid=103;
SELECT Touches(g,GeomFromText(@star_top_to_center)) FROM gis_geometrycollection WHERE fid=403;
--echo #multipolygon,multilinestring
SELECT Touches(GeomFromText(@star_of_elems),GeomFromText(@star_lines_near_vertical));
SELECT Touches(GeomFromText(@star_of_elems),GeomFromText('MULTILINESTRING((0 30,30 30,0 35))'));
SELECT Touches(g,GeomFromText(@star_lines_near_vertical)) FROM gis_geometrycollection WHERE fid=103;
SELECT Touches(g,GeomFromText(@star_lines_near_vertical)) FROM gis_geometrycollection WHERE fid=403;
--echo #multipolygon,polygon
SELECT Touches(GeomFromText(@star_of_elems),GeomFromText(@star_elem_vertical));
SELECT Touches(GeomFromText(@star_of_elems),GeomFromText('POLYGON((25 0,25 5,30 0,25 0))'));
SELECT Touches(GeomFromText(@star_of_elems),GeomFromText('POLYGON((0 0,15 25,35 0,0 0))'));
SELECT Touches(g,GeomFromText(@star_elem_vertical)) FROM gis_geometrycollection WHERE fid=103;
SELECT Touches(g,GeomFromText(@star_elem_vertical)) FROM gis_geometrycollection WHERE fid=303;
SELECT Touches(g,GeomFromText(@star_elem_vertical)) FROM gis_geometrycollection WHERE fid=403;
--echo #multipolygon,multipolygon
SELECT Touches(GeomFromText(@star_of_elems),GeomFromText('MULTIPOLYGON(((25 0,25 5,30 0,25 0)),((25 15,25 20,30 15,25 15)))'));
SELECT Touches(GeomFromText(@star_of_elems),GeomFromText('MULTIPOLYGON(((0 0,15 25,35 0,0 0),(5 0,15 25,25 0,15 5,5 0)))'));
SELECT Touches(g,GeomFromText(@star_of_elems)) FROM gis_geometrycollection WHERE fid=103;
SELECT Touches(g,GeomFromText(@star_of_elems)) FROM gis_geometrycollection WHERE fid=303;
SELECT Touches(g,GeomFromText(@star_of_elems)) FROM gis_geometrycollection WHERE fid=403;
SELECT Touches(g,g2) FROM gis_geometrycollection,gis_geometrycollection_2
       WHERE fid=103 and fid2=103;
--echo #multipolygon,geometrycollection
SELECT Touches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=103;
SELECT Touches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=303;
SELECT Touches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=403;
SELECT Touches(g,g2) FROM gis_geometrycollection,gis_geometrycollection_2
       WHERE fid=103 and fid2=115;
SELECT Touches(GeomFromText(@star_of_elems),GeomFromText(@star_collection_multilinestr));
--echo #-------------------------------------------------------------------------------------------
--echo #geometrycollection,point
SELECT Touches(GeomFromText(@star_collection_elems),GeomFromText(@star_top));
SELECT Touches(GeomFromText(@star_collection_elems),GeomFromText('POINT(30 30)'));
SELECT Touches(g,GeomFromText(@star_top)) FROM gis_geometrycollection WHERE fid=115;
SELECT Touches(g,GeomFromText(@star_top)) FROM gis_geometrycollection WHERE fid=415;
--echo #geometrycollection,multipoint
SELECT Touches(GeomFromText(@star_collection_elems),GeomFromText(@star_bottom_points));
SELECT Touches(GeomFromText(@star_collection_elems),GeomFromText('MULTIPOINT(30 30,0 35)'));
SELECT Touches(g,GeomFromText(@star_bottom_points)) FROM gis_geometrycollection WHERE fid=115;
SELECT Touches(g,GeomFromText(@star_bottom_points)) FROM gis_geometrycollection WHERE fid=415;
--echo #geometrycollection,linestring
SELECT Touches(GeomFromText(@star_collection_elems),GeomFromText(@star_top_to_center));
SELECT Touches(GeomFromText(@star_collection_elems),GeomFromText('LINESTRING(30 30,0 35)'));
SELECT Touches(g,GeomFromText(@star_top_to_center)) FROM gis_geometrycollection WHERE fid=115;
SELECT Touches(g,GeomFromText(@star_top_to_center)) FROM gis_geometrycollection WHERE fid=415;
--echo #geometrycollection,multilinestring
SELECT Touches(GeomFromText(@star_collection_elems),GeomFromText(@star_lines_near_vertical));
SELECT Touches(GeomFromText(@star_collection_elems),GeomFromText('MULTILINESTRING((0 30,30 30,0 35))'));
SELECT Touches(g,GeomFromText(@star_lines_near_vertical)) FROM gis_geometrycollection WHERE fid=115;
SELECT Touches(g,GeomFromText(@star_lines_near_vertical)) FROM gis_geometrycollection WHERE fid=415;
--echo #geometrycollection,polygon
SELECT Touches(GeomFromText(@star_collection_elems),GeomFromText(@star_elem_vertical));
SELECT Touches(GeomFromText(@star_collection_elems),GeomFromText('POLYGON((25 0,25 5,30 0,25 0))'));
SELECT Touches(GeomFromText(@star_collection_elems),GeomFromText('POLYGON((0 0,15 25,35 0,0 0))'));
SELECT Touches(g,GeomFromText(@star_elem_vertical)) FROM gis_geometrycollection WHERE fid=115;
SELECT Touches(g,GeomFromText(@star_elem_vertical)) FROM gis_geometrycollection WHERE fid=315;
SELECT Touches(g,GeomFromText(@star_elem_vertical)) FROM gis_geometrycollection WHERE fid=415;
--echo #geometrycollection,multipolygon
SELECT Touches(GeomFromText(@star_collection_elems),GeomFromText('MULTIPOLYGON(((25 0,25 5,30 0,25 0)),((25 15,25 20,30 15,25 15)))'));
SELECT Touches(GeomFromText(@star_collection_elems),GeomFromText('MULTIPOLYGON(((0 0,15 25,35 0,0 0),(5 0,15 25,25 0,15 5,5 0)))'));
SELECT Touches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=115;
SELECT Touches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=315;
SELECT Touches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=415;
SELECT Touches(g,g2) FROM gis_geometrycollection,gis_geometrycollection_2
       WHERE fid=115 and fid2=115;
--echo #geometrycollection,geometrycollection
SELECT Touches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=115;
SELECT Touches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=315;
SELECT Touches(g,GeomFromText(@star_collection_elems)) FROM gis_geometrycollection WHERE fid=415;
SELECT Touches(g,g2) FROM gis_geometrycollection,gis_geometrycollection_2
       WHERE fid=115 and fid2=115;
SELECT Touches(GeomFromText(@star_collection_elems),GeomFromText(@star_collection_multilinestr));

--echo #=======================================================================================
--echo # Testing Toches() with 2 geometries of same SRID
--echo #=======================================================================================

--echo #-------------------------------------------------------------------------------------------
--echo #MBRToches(g1,g2)
SELECT MBRTouches(GeomFromText(@star_top,0),GeomFromText(@star_center,0));
SELECT MBRTouches(GeomFromText(@star_top,100),GeomFromText(@star_center,100));
SELECT MBRTouches(GeomFromText(@star_top,20000),GeomFromText(@star_center,20000));
SELECT MBRTouches(GeomFromText(@star_top,123456),GeomFromText(@star_center,123456));
SELECT MBRTouches(GeomFromText(@star_top,1048575),GeomFromText(@star_center,1048575));
SELECT MBRTouches(GeomFromText(@star_top,4294967295),GeomFromText(@star_center,4294967295));
SELECT MBRTouches(GeomFromText(@star_top,-1024),GeomFromText(@star_center,-1024));
SELECT MBRTouches(GeomFromText(@star_top,-1024),GeomFromText(@star_center,-1024));
SELECT MBRTouches(GeomFromText(@star_top,4294967295000),GeomFromText(@star_center,4294967295000));
--echo #-------------------------------------------------------------------------------------------
--echo #ST_Toches(g1,g2)
SELECT ST_Touches(GeomFromText(@star_top,0),GeomFromText(@star_center,0));
SELECT ST_Touches(GeomFromText(@star_top,100),GeomFromText(@star_center,100));
SELECT ST_Touches(GeomFromText(@star_top,20000),GeomFromText(@star_center,20000));
SELECT ST_Touches(GeomFromText(@star_top,123456),GeomFromText(@star_center,123456));
SELECT ST_Touches(GeomFromText(@star_top,1048575),GeomFromText(@star_center,1048575));
SELECT ST_Touches(GeomFromText(@star_top,4294967295),GeomFromText(@star_center,4294967295));
SELECT ST_Touches(GeomFromText(@star_top,-1024),GeomFromText(@star_center,-1024));
SELECT ST_Touches(GeomFromText(@star_top,-1024),GeomFromText(@star_center,-1024));
SELECT ST_Touches(GeomFromText(@star_top,4294967295000),GeomFromText(@star_center,4294967295000));
--echo #-------------------------------------------------------------------------------------------
--echo #Toches(g1,g2)
SELECT Touches(GeomFromText(@star_top,0),GeomFromText(@star_center,0));
SELECT Touches(GeomFromText(@star_top,100),GeomFromText(@star_center,100));
SELECT Touches(GeomFromText(@star_top,20000),GeomFromText(@star_center,20000));
SELECT Touches(GeomFromText(@star_top,123456),GeomFromText(@star_center,123456));
SELECT Touches(GeomFromText(@star_top,1048575),GeomFromText(@star_center,1048575));
SELECT Touches(GeomFromText(@star_top,4294967295),GeomFromText(@star_center,4294967295));
SELECT Touches(GeomFromText(@star_top,-1),GeomFromText(@star_center,-1));
SELECT Touches(GeomFromText(@star_top,-1024),GeomFromText(@star_center,-1024));
SELECT Touches(GeomFromText(@star_top,4294967295000),GeomFromText(@star_center,4294967295000));

--echo #=======================================================================================
--echo # Invalid function calls
--echo #=======================================================================================

--error ER_GIS_DIFFERENT_SRIDS
SELECT Touches(GeomFromText(@star_top),GeomFromText(@star_center,4326));
--error ER_GIS_DIFFERENT_SRIDS
SELECT Touches(GeomFromText(@star_top,1048576),GeomFromText(@star_center,4326));
SELECT Touches(GeomFromText(@star_top,1048576),GeomFromText(@star_center,1048576));
SELECT Touches(GeomFromText(@star_top,0),GeomFromText(@star_center,0));
SELECT Touches(GeomFromText(@star_top,-1),GeomFromText(@star_center,-1));
SELECT Touches(NULL,GeomFromText(@star_top));
SELECT Touches(GeomFromText(@star_of_elems),NULL);
SELECT Touches(g,NULL) FROM gis_geometrycollection,gis_geometrycollection_2
       WHERE fid=103 and fid2=103;
SELECT Touches(NULL,NULL);
SELECT Touches(fid,NULL) FROM gis_geometrycollection,gis_geometrycollection_2
       WHERE fid=103 and fid2=103;
--error ER_GIS_INVALID_DATA
SELECT Touches(fid,GeomFromText(@star_top)) FROM gis_geometrycollection,gis_geometrycollection_2
       WHERE fid=103 and fid2=103;
--error ER_GIS_INVALID_DATA
SELECT Touches(GeomFromText(@star_of_elems),fid) FROM gis_geometrycollection,gis_geometrycollection_2
       WHERE fid=103 and fid2=103;
--error ER_GIS_INVALID_DATA
SELECT Touches(GeomFromText('POINT(a 0)'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_GIS_INVALID_DATA
SELECT Touches(GeomFromText('POINT(! 0)'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_PARSE_ERROR
SELECT Touches(GeomFromText('POINT('!' 0)'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_GIS_INVALID_DATA
SELECT Touches(GeomFromText('POINT(12,34 0)'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_GIS_INVALID_DATA
SELECT Touches(GeomFromText('LINESTRING(a 0,10 10)'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_GIS_INVALID_DATA
SELECT Touches(GeomFromText('LINESTRING(0 0,! 10)'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_PARSE_ERROR
SELECT Touches(GeomFromText('LINESTRING('!' 0,10 10)'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_GIS_INVALID_DATA
SELECT Touches(GeomFromText('LINESTRING(12,34 0,10 10)'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_GIS_INVALID_DATA
SELECT Touches(GeomFromText('POLYGON((a 0,10 10,10 0,0 0))'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_GIS_INVALID_DATA
SELECT Touches(GeomFromText('POLYGON((0 0,! 10,10 0,0 0))'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_PARSE_ERROR
SELECT Touches(GeomFromText('POLYGON(('!' 0,10 10,10 0,0 0))'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_GIS_INVALID_DATA
SELECT Touches(GeomFromText('POLYGON((12,34 0,10 10,10 0,0 0))'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_GIS_INVALID_DATA
SELECT Touches(GeomFromText('POLYGON((12,34 0,10 10,10 0,0 0)'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_PARSE_ERROR
SELECT Touches(,);
--error ER_PARSE_ERROR
SELECT Touches(GeomFromText(@star_of_elems),);
--error ER_PARSE_ERROR
SELECT Touches(,GeomFromText(@star_top));

--error ER_GIS_DIFFERENT_SRIDS
SELECT ST_Touches(GeomFromText(@star_top),GeomFromText(@star_center,4326));
--error ER_GIS_DIFFERENT_SRIDS
SELECT ST_Touches(GeomFromText(@star_top,1048576),GeomFromText(@star_center,4326));
SELECT ST_Touches(GeomFromText(@star_top,1048576),GeomFromText(@star_center,1048576));
SELECT ST_Touches(GeomFromText(@star_top,0),GeomFromText(@star_center,0));
SELECT ST_Touches(GeomFromText(@star_top,-1),GeomFromText(@star_center,-1));
SELECT ST_Touches(NULL,GeomFromText(@star_top));
SELECT ST_Touches(GeomFromText(@star_of_elems),NULL);
SELECT ST_Touches(g,NULL) FROM gis_geometrycollection,gis_geometrycollection_2
       WHERE fid=103 and fid2=103;
SELECT ST_Touches(NULL,NULL);
SELECT ST_Touches(fid,NULL) FROM gis_geometrycollection,gis_geometrycollection_2
       WHERE fid=103 and fid2=103;
--error ER_GIS_INVALID_DATA
SELECT ST_Touches(fid,GeomFromText(@star_top)) FROM gis_geometrycollection,gis_geometrycollection_2
       WHERE fid=103 and fid2=103;
--error ER_GIS_INVALID_DATA
SELECT ST_Touches(GeomFromText(@star_of_elems),fid) FROM gis_geometrycollection,gis_geometrycollection_2
       WHERE fid=103 and fid2=103;
--error ER_GIS_INVALID_DATA
SELECT ST_Touches(GeomFromText('POINT(a 0)'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_GIS_INVALID_DATA
SELECT ST_Touches(GeomFromText('POINT(! 0)'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_PARSE_ERROR
SELECT ST_Touches(GeomFromText('POINT('!' 0)'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_GIS_INVALID_DATA
SELECT ST_Touches(GeomFromText('POINT(12,34 0)'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_GIS_INVALID_DATA
SELECT ST_Touches(GeomFromText('LINESTRING(a 0,10 10)'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_GIS_INVALID_DATA
SELECT ST_Touches(GeomFromText('LINESTRING(0 0,! 10)'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_PARSE_ERROR
SELECT ST_Touches(GeomFromText('LINESTRING('!' 0,10 10)'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_GIS_INVALID_DATA
SELECT ST_Touches(GeomFromText('LINESTRING(12,34 0,10 10)'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_GIS_INVALID_DATA
SELECT ST_Touches(GeomFromText('POLYGON((a 0,10 10,10 0,0 0))'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_GIS_INVALID_DATA
SELECT ST_Touches(GeomFromText('POLYGON((0 0,! 10,10 0,0 0))'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_PARSE_ERROR
SELECT ST_Touches(GeomFromText('POLYGON(('!' 0,10 10,10 0,0 0))'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_GIS_INVALID_DATA
SELECT ST_Touches(GeomFromText('POLYGON((12,34 0,10 10,10 0,0 0))'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_GIS_INVALID_DATA
SELECT ST_Touches(GeomFromText('POLYGON((12,34 0,10 10,10 0,0 0)'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_PARSE_ERROR
SELECT ST_Touches(,);
--error ER_PARSE_ERROR
SELECT ST_Touches(GeomFromText(@star_of_elems),);
--error ER_PARSE_ERROR
SELECT ST_Touches(,GeomFromText(@star_top));

--error ER_GIS_DIFFERENT_SRIDS
SELECT MBRTouches(GeomFromText(@star_top),GeomFromText(@star_center,4326));
--error ER_GIS_DIFFERENT_SRIDS
SELECT MBRTouches(GeomFromText(@star_top,1048576),GeomFromText(@star_center,4326));
SELECT MBRTouches(GeomFromText(@star_top,1048576),GeomFromText(@star_center,1048576));
SELECT MBRTouches(GeomFromText(@star_top,0),GeomFromText(@star_center,0));
SELECT MBRTouches(GeomFromText(@star_top,-1),GeomFromText(@star_center,-1));
SELECT MBRTouches(NULL,GeomFromText(@star_top));
SELECT MBRTouches(GeomFromText(@star_of_elems),NULL);
SELECT MBRTouches(g,NULL) FROM gis_geometrycollection,gis_geometrycollection_2
       WHERE fid=103 and fid2=103;
SELECT MBRTouches(NULL,NULL);
SELECT MBRTouches(fid,NULL) FROM gis_geometrycollection,gis_geometrycollection_2
       WHERE fid=103 and fid2=103;
--error ER_GIS_INVALID_DATA
SELECT MBRTouches(fid,GeomFromText(@star_top)) FROM gis_geometrycollection,gis_geometrycollection_2
       WHERE fid=103 and fid2=103;
--error ER_GIS_INVALID_DATA
SELECT MBRTouches(GeomFromText(@star_of_elems),fid) FROM gis_geometrycollection,gis_geometrycollection_2
       WHERE fid=103 and fid2=103;
--error ER_GIS_INVALID_DATA
SELECT MBRTouches(GeomFromText('POINT(a 0)'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_GIS_INVALID_DATA
SELECT MBRTouches(GeomFromText('POINT(! 0)'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_PARSE_ERROR
SELECT MBRTouches(GeomFromText('POINT('!' 0)'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_GIS_INVALID_DATA
SELECT MBRTouches(GeomFromText('POINT(12,34 0)'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_GIS_INVALID_DATA
SELECT MBRTouches(GeomFromText('LINESTRING(a 0,10 10)'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_GIS_INVALID_DATA
SELECT MBRTouches(GeomFromText('LINESTRING(0 0,! 10)'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_PARSE_ERROR
SELECT MBRTouches(GeomFromText('LINESTRING('!' 0,10 10)'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_GIS_INVALID_DATA
SELECT MBRTouches(GeomFromText('LINESTRING(12,34 0,10 10)'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_GIS_INVALID_DATA
SELECT MBRTouches(GeomFromText('POLYGON((a 0,10 10,10 0,0 0))'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_GIS_INVALID_DATA
SELECT MBRTouches(GeomFromText('POLYGON((0 0,! 10,10 0,0 0))'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_PARSE_ERROR
SELECT MBRTouches(GeomFromText('POLYGON(('!' 0,10 10,10 0,0 0))'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_GIS_INVALID_DATA
SELECT MBRTouches(GeomFromText('POLYGON((12,34 0,10 10,10 0,0 0))'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_GIS_INVALID_DATA
SELECT MBRTouches(GeomFromText('POLYGON((12,34 0,10 10,10 0,0 0)'),GeomFromText('LINESTRING(0 0,10 10)'));
--error ER_PARSE_ERROR
SELECT MBRTouches(,);
--error ER_PARSE_ERROR
SELECT MBRTouches(GeomFromText(@star_of_elems),);
--error ER_PARSE_ERROR
SELECT MBRTouches(,GeomFromText(@star_top));


--echo #clean up
--disable_warnings
DROP TABLE IF EXISTS gis_geometrycollection;
DROP TABLE IF EXISTS gis_geometrycollection_2;
--enable_warnings


